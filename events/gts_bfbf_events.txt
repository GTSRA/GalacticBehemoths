namespace = gts_bfbf

first_contact_event = {
	id = gts_bfbf.1
	hide_window = yes
	is_triggered_only = yes
	auto_opens = yes
	trigger = {
		owner = {
			or = {
				has_trait = trait_Normal
				has_trait = trait_Small
				has_trait = trait_Tiny
			}
		}
		from = {
			or = {
				has_trait = trait_Tall
				has_trait = trait_Giant
			}
		}
	}
	after = {
		owner = {
			country_event = {
				id = gts_bfbf.2
				days = 30
			}
		}
	}
}

country_event = {
	#接触完成后
	id = gts_bfbf.2
	title = "gts_bfbf.2.name"
	desc = gts_bfbf.2.desc
	#picture = GFX_gts_seele_5
	is_triggered_only = yes
	auto_opens = yes
	option = {
		name = gts_bfbf.2.a
		custom_tooltip = gts_bfbf.2.a1
	}
	option = {
		name = gts_bfbf.2.b
		custom_tooltip = gts_bfbf.2.b1
		hidden_effect = {
			country_event = {
				id = gts_bfbf.3
			}
		}
	}
}

country_event = {
	#不示弱
	id = gts_bfbf.3
	title = "gts_bfbf.3.name"
	desc = gts_bfbf.3.desc
	#picture = GFX_gts_seele_5
	is_triggered_only = yes
	auto_opens = yes
	option = {
		name = gts_bfbf.3.a
		custom_tooltip = gts_bfbf.3.a1
	}
	option = {
		name = gts_bfbf.3.b
		custom_tooltip = gts_bfbf.3.b1
		hidden_effect = {
			country_event = {
				id = gts_bfbf.4
			}
		}
	}
}

country_event = {
	#出重拳
	id = gts_bfbf.4
	title = "gts_bfbf.4.name"
	desc = gts_bfbf.4.desc
	#picture = GFX_gts_seele_5
	is_triggered_only = yes
	auto_opens = yes
	option = {
		name = gts_bfbf.4.a
		custom_tooltip = gts_bfbf.4.a1
	}
	option = {
		name = gts_bfbf.4.b
		add_resource = {
			gts_giantess_fluid = 100
			gts_giantess_underwear = 50
		}
	}
}

first_contact_event = {
	id = gts_bfbf.5
	hide_window = yes
	is_triggered_only = yes
	auto_opens = yes
	trigger = {
		from = {
			or = {
				has_trait = trait_Normal
				has_trait = trait_Small
				has_trait = trait_Tiny
			}
		}
		owner = {
			or = {
				has_trait = trait_Tall
				has_trait = trait_Giant
			}
		}
	}
	after = {
		owner = {
			country_event = {
				id = gts_bfbf.6
				days = 30
			}
		}
	}
}

country_event = {
	#接触完成后   自己是巨娘
	id = gts_bfbf.6
	title = "gts_bfbf.6.name"
	desc = gts_bfbf.6.desc
	#picture = GFX_gts_seele_5
	is_triggered_only = yes
	auto_opens = yes
	option = {
		name = gts_bfbf.6.a
		custom_tooltip = gts_bfbf.6.a1
	}
	option = {
		name = gts_bfbf.6.b
		custom_tooltip = gts_bfbf.6.b1
		hidden_effect = {
			country_event = {
				id = gts_bfbf.7
			}
		}
	}
}

country_event = {
	id = gts_bfbf.7
	title = "gts_bfbf.7.name"
	desc = gts_bfbf.7.desc
	#picture = GFX_gts_seele_5
	is_triggered_only = yes
	auto_opens = yes
	option = {
		name = gts_bfbf.7.a
		custom_tooltip = gts_bfbf.7.a1
		add_resource = {
			energy = 3000
		}
	}
	option = {
		name = gts_bfbf.7.b
		custom_tooltip = gts_bfbf.7.b1
		hidden_effect = {
			country_event = {
				id = gts_bfbf.8
			}
		}
	}
}

country_event = {
	id = gts_bfbf.8
	title = "gts_bfbf.8.name"
	desc = gts_bfbf.8.desc
	#picture = GFX_gts_seele_5
	is_triggered_only = yes
	auto_opens = yes
	option = {
		name = gts_bfbf.8.a
		custom_tooltip = gts_bfbf.8.a1
	}
	option = {
		name = gts_bfbf.8.b
		custom_tooltip = gts_bfbf.8.b1
		hidden_effect = {
			country_event = {
				id = gts_bfbf.9
			}
		}
	}
}

country_event = {
	id = gts_bfbf.9
	title = "gts_bfbf.9.name"
	desc = gts_bfbf.9.desc
	#picture = GFX_gts_seele_5
	is_triggered_only = yes
	auto_opens = yes
	option = {
		name = gts_bfbf.9.a
		custom_tooltip = gts_bfbf.9.a1
	}
	option = {
		name = gts_bfbf.9.b
		custom_tooltip = gts_bfbf.9.b1
	}
}

#花田
country_event = {
	id = gts_bfbf.1001
	is_triggered_only = yes
	auto_opens = yes
	hide_window = yes
	immediate = {
		event_target:gts_huatian = {
			change_variable = {
				value = -0.5
				which = gts_love_logs
			}
		}
	}
	trigger = {
		owner = {
			has_country_flag = gts_huatian_drift
			any_owned_leader = {
				has_trait = gts_trait_leader_huatian_a
			}
		}
	}
}

country_event = {
	id = gts_bfbf.1002
	is_triggered_only = yes
	auto_opens = yes
	hide_window = yes
	immediate = {
		event_target:gts_huatian = {
			change_variable = {
				value = 0.5
				which = gts_love_logs
			}
		}
	}
	trigger = {
		owner = {
			has_country_flag = gts_huatian_friendly
			any_owned_leader = {
				has_trait = gts_trait_leader_huatian_a
			}
		}
	}
}

planet_event = {
	#巨像相关事件在这里触发
	id = gts_bfbf.100
	is_triggered_only = yes
	hide_window = yes
	immediate = {
		if = {
			limit = {
				is_planet_class = pc_frozen
			}
			#from.owner = { country_event = { id = gts_bfbf.102 } }
		}

		if = {
			limit = {
				is_star = no
				 from = {
					 is_ship_size = gts_giant_research_ship
				 }
				#别的写法不知道行不行(flag貌似不可以)
				#用来指定舰船
			}
			from.owner = {
				country_event = {
					id = gts_huatian.1088
				}
			}
		}
		else_if = {
			limit = {
				is_star = yes
			}
			from = {
				owner = {
					save_event_target_as = gts_research_destory_star
					add_victory_score = {
						source = destroyed_stars_score
						score = 10
					}
					switch = {
						trigger = galaxy_size
						huge = {
							add_resource = {
								sr_dark_matter = 1000
							}
						}
						large = {
							add_resource = {
								sr_dark_matter = 1500
							}
						}
						medium = {
							add_resource = {
								sr_dark_matter = 2000
							}
						}
						small = {
							add_resource = {
								sr_dark_matter = 2500
							}
						}
						tiny = {
							add_resource = {
								sr_dark_matter = 3000
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_country_flag = gts_research_destory_star
							}
						}
						country_event = { id =gts_bfbf.201 }
						#首次炸星系时触发
						set_country_flag = gts_research_destory_star
						save_global_event_target_as = gts_research_destory_star
					}
				}
			}
			solar_system = {
				save_event_target_as = destroyed_system
			}
			every_playable_country = {
				limit = {
					is_ai = no
					has_communications = event_target:gts_research_destory_star
					NOR = {
						is_same_value = event_target:gts_research_destory_star
						has_country_flag = star_eater_alert@event_target:gts_research_destory_star
					}
					intel_level = {
						system = event_target:destroyed_system
						level = none
					}
				}
				#!
				#别人那里触发...就不写了吧
			}
			solar_system = {
				#炸圣地的
				random_system_planet = {
					limit = {
						has_modifier = holy_planet
					}
					planet_event = {
						id = planet_destruction.605
					}
				}
				destroy_star_system = yes
			}
		}
		else_if = {
			limit = {
				OR = {
					is_planet_class = pc_city
					is_planet_class = pc_relic
				}
			}
			#如上
			#from.owner = { country_event = { id = gts_bfbf.103 } }
		}
		else_if = {
			limit = {
				NOT = {
					is_planet_class = pc_ai
				}
			}
			#from.owner = { country_event = { id = gts_bfbf.101 } }
		}
		else_if = {
			limit = {
				NOT = {
					is_planet_class = pc_ai
				}
			}
			#from.owner = { country_event = { id = gts_bfbf.101 } }
		}
		#Dismantle observation post
		if = {
			limit = {
				has_observation_outpost = yes
			}
			observation_outpost_owner = {
				country_event = {
					id = planet_destruction.1000
					days = 1
				}
			}
		}
		# Contingency Machine World
		if = {
			limit = {
				is_planet_class = pc_ai
				NOT = {
					has_planet_flag = machine_lair
				}
			}
			set_planet_flag = destroyed_by_colossus
			set_planet_flag = planet_cracked
			planet_event = {
				id = crisis.2040
			}
		}
		# Contingency Final Machine World
		if = {
			limit = {
				is_planet_class = pc_ai
				has_planet_flag = machine_lair
			}
			set_planet_flag = destroyed_by_colossus
			set_planet_flag = planet_cracked
			from.owner = {
				save_event_target_as = final_machine_world_destroyer
			}
			stop_crisis_sound = yes
			planet_event = {
				id = crisis.2046
			}
		}
		# Swarm Situation Log counter
		if = {
			limit = {
				exists = owner
				owner = {
					is_country_type = swarm
				}
			}
			every_country = {
				limit = {
					has_event_chain = "prethoryn_scourge_chain"
				}
				add_event_chain_counter = {
					event_chain = "prethoryn_scourge_chain"
					counter = "infested_worlds"
					amount = -1
				}
				add_event_chain_counter = {
					event_chain = "prethoryn_scourge_chain"
					counter = "infested_worlds_cleansed"
					amount = 1
				}
			}
		}
		# Exterminatus Achievement
		if = {
			limit = {
				is_capital = yes
			}
			from.owner = {
				set_country_flag = exterminatus
			}
		}
		if = {
			limit = {
				exists = owner
				owner = {
					NOT = {
						is_same_value = from.owner
					}
					OR = {
						is_country_type = default
						is_country_type = fallen_empire
						is_country_type = awakened_fallen_empire
					}
				}
			}
			# Generate threat
			if = {
				limit = {
					is_colony = yes
				}
				add_threat = {
					who = from.owner
					amount = 3
				}
				# modifier for allies + those upset by genocide
				every_country = {
					limit = {
						NOR = {
							is_same_value = from.owner
							is_same_value = root.owner
							AND = {
								has_federation = yes
								is_in_federation_with = from.owner
							}
						}
						OR = {
							has_communications = from.owner
							has_communications = root.owner
						}
						OR = {
							AND = {
								has_federation = yes
								is_in_federation_with = root.owner
							}
							has_ai_personality = awakened_fallen_empire_xenophile
							AND = {
								is_country_type = default
								OR = {
									is_egalitarian = yes
									is_xenophile = yes
								}
							}
						}
					}
					if = {
						limit = {
							root = {
								is_colony = no
							}
						}
						add_opinion_modifier = {
							modifier = opinion_cracked_an_uninhabited_world
							who = from.owner
						}
					}
					else = {
						add_opinion_modifier = {
							modifier = opinion_cracked_a_world
							who = from.owner
						}
					}
				}
			}
			else = {
				add_threat = {
					who = from.owner
					amount = 1
				}
			}
			# modifiers for victim
			owner = {
				if = {
					limit = {
						root = {
							is_colony = no
						}
					}
					add_opinion_modifier = {
						modifier = opinion_cracked_my_uninhabited_world
						who = from.owner
					}
				}
				else = {
					add_opinion_modifier = {
						modifier = opinion_cracked_my_world
						who = from.owner
					}
				}
				if = {
					limit = {
						NOT = {
							has_ethic = ethic_gestalt_consciousness
						}
					}
					add_modifier = {
						modifier = colossus_victim
						days = 10800						# 30 years
					}
				}
			}
			if = {
				limit = {
					exists = owner
					owner = {
						is_country_type = primitive
					}
				}
				# modifier for allies + those upset by genocide
				every_country = {
					limit = {
						NOT = {
							is_same_value = from.owner
						}
						OR = {
							has_communications = from.owner
							has_communications = root.owner
						}
						OR = {
							has_ai_personality = awakened_fallen_empire_xenophile
							AND = {
								is_country_type = default
								NOR = {
									is_xenophobe = yes
									is_homicidal = yes
									is_xenophile = yes
								}
							}
						}
					}
					add_opinion_modifier = {
						modifier = opinion_cracked_a_primitive_world
						who = from.owner
					}
				}
				every_country = {
					limit = {
						NOT = {
							is_same_value = from.owner
						}
						OR = {
							has_communications = from.owner
							has_communications = root.owner
						}
						OR = {
							has_ai_personality = awakened_fallen_empire_xenophile
							AND = {
								is_country_type = default
								is_xenophile = yes
							}
						}
					}
					add_opinion_modifier = {
						modifier = opinion_cracked_a_primitive_world_phile
						who = from.owner
					}
				}
			}
		}
		# Add war exhaustion to planet owner
		if = {
			limit = {
				exists = owner
			}
			owner = {
				if = {
					limit = {
						#isn't the case when the crisis bombards planets, for instance
						is_at_war_with = from.fleet.owner
					}
					add_static_war_exhaustion = {
						attacker = from.fleet.owner
						location = root
						value_for_planet_destruction = 1
					}
				}
			}
		}
		every_owned_pop_group = {
			kill_all_pop = yes
		}
		if = {
			limit = {
				exists = orbital_defence
			}
			destroy_fleet = orbital_defence
		}
		remove_all_buildings = yes
		# destroy habitats and ringworlds
		if = {
			limit = {
				is_planet_class = pc_habitat
			}
			spawn_habitat_cracker_effect = yes
		}
		else_if = {
			limit = {
				is_planet_class = pc_cosmogenesis_world
			}
			spawn_lathe_cracker_effect = yes
		}
		else_if = {
			limit = {
				is_ringworld = yes
			}
			spawn_ringworld_cracker_effect = yes
			change_pc = pc_ringworld_habitable_damaged
		}
		else_if = {
			limit = {
				habitable_planet = yes
			}
			change_pc = pc_shattered
			clear_deposits = yes
			random_list = {
				1 = {
					add_deposit = d_minerals_10
					add_deposit = d_minerals_6
				}
				1 = {
					add_deposit = d_minerals_10
					add_deposit = d_minerals_2
				}
				1 = {
					add_deposit = d_minerals_8
				}
				1 = {
					add_deposit = d_minerals_4
				}
			}
		}
		else = {
			change_pc = pc_shattered
			clear_deposits = yes
		}
	}
}

country_event = {
	id = gts_bfbf.101
	title = gts_bfbf.101.name
	desc = gts_bfbf.101.desc
	picture = GFX_evt_exploding_planet
	show_sound = event_super_explosion
	location = from
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = fired_cracker
		}
		FROM = {
			NOR = {
				is_planet_class = pc_habitat
				is_planet_class = pc_ringworld_habitable
				is_planet_class = pc_shattered_ring_habitable
			}
		}
	}
	immediate = {
		set_country_flag = fired_cracker
	}
	option = {
		name = gts_bfbf.101.a
	}
}

country_event = {
	id = gts_bfbf.102
	title = gts_bfbf.102.name
	desc = gts_bfbf.102.desc
	picture = GFX_evt_exploding_planet
	show_sound = event_super_explosion
	location = from
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = fired_cracker_gts_ice
		}
	}
	immediate = {
		set_country_flag = fired_cracker_gts_ice
	}
	option = {
		name = gts_bfbf.102.a
	}
}

country_event = {
	id = gts_bfbf.103
	title = gts_bfbf.103.name
	desc = gts_bfbf.103.desc
	picture = GFX_evt_exploding_planet
	show_sound = event_super_explosion
	location = from
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = fired_cracker_gts_city
		}
	}
	immediate = {
		set_country_flag = fired_cracker_gts_city
	}
	option = {
		name = gts_bfbf.103.a
	}
}

country_event = {
	id = gts_bfbf.201
	title = gts_bfbf.201.name
	desc = gts_bfbf.201.desc
	picture = GFX_evt_supernova
	show_sound = event_super_explosion
	location = from
	is_triggered_only = yes
	option = {
		name = gts_bfbf.201.a
	}
}

country_event = {
	id = gts_bfbf.202
	title = gts_bfbf.202.name
	desc = gts_bfbf.202.desc
	picture = GFX_evt_supernova
	show_sound = event_super_explosion
	location = from
	is_triggered_only = yes
	option = {
		name = gts_bfbf.202.a
	}
}






country_event = {
	id = gts_bfbf.300
	title = gts_bfbf.300.name
	desc = gts_bfbf.300.desc
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"
	picture_event_data = {
		#room =
		portrait = event_target:gts_yarong
	}
	option = {
		name = gts_bfbf.300.1
		is_dialog_only = yes
		response_text = gts_bfbf.300.1a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong1
			}
		}
	}
	option = {
		name = gts_bfbf.300.2
		is_dialog_only = yes
		response_text = gts_bfbf.300.2a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong2
			}
		}
	}
	option = {
		name = gts_bfbf.300.3
		is_dialog_only = yes
		response_text = gts_bfbf.300.3a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong3
			}
		}
	}
	option = {
		name = gts_bfbf.300.4
		is_dialog_only = yes
		response_text = gts_bfbf.300.4a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong4
			}
		}
	}
	option = {
		name = gts_bfbf.300.5
		is_dialog_only = yes
		response_text = gts_bfbf.300.5a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong5
			}
		}
	}
	option = {
		name = gts_bfbf.300.6
		is_dialog_only = yes
		response_text = gts_bfbf.300.6a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong6
			}
		}
	}
	option = {
		name = gts_bfbf.300.7
		is_dialog_only = yes
		response_text = gts_bfbf.300.7a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong7
			}
		}
	}
	option = {
		name = gts_bfbf.300.8
		is_dialog_only = yes
		response_text = gts_bfbf.300.8a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong8
			}
		}
	}
	option = {
		name = gts_bfbf.300.9
		is_dialog_only = yes
		response_text = gts_bfbf.300.9a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong9
			}
		}
	}
	option = {
		name = gts_bfbf.300.10
		is_dialog_only = yes
		response_text = gts_bfbf.300.10a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong10
			}
		}
	}
	option = {
		name = gts_bfbf.300.11
		is_dialog_only = yes
		response_text = gts_bfbf.300.11a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong11
			}
		}
	}
	option = {
		name = gts_bfbf.300.12
		is_dialog_only = yes
		response_text = gts_bfbf.300.12a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong12
			}
		}
	}
	option = {
		name = gts_bfbf.300.13
		is_dialog_only = yes
		response_text = gts_bfbf.300.13a
		hidden_effect = {
			event_target:gts_yarong = {
				change_leader_portrait = gts_yarong13
			}
		}
	}
	option = {
		name = gts_bfbf.300.12
		default_hide_option = yes
	}
}

country_event = {
	id = gts_bfbf.301
	is_triggered_only = yes
	hide_window = yes
	trigger = {
		event_target:gts_yarong = {
			not = {
				has_trait = leader_trait_Ultra
			}
		}
	}
	immediate = {
		event_target:gts_yarong = {
			remove_gts_leader_size_trait = yes
			add_trait = {
				trait = leader_trait_Ultra
				show_message = no
			}
		}
	}
}























event = {
	id = gts_bfbf.11414
	title = test
	desc = test
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "gts_bfbf1"
}

country_event = {
	id = gts_bfbf.11415
	title = test
	desc = test_bfbf

	diplomatic = yes
	fire_only_once = no
	picture_event_data = {
		portrait = event_target:gts_bfbf_love_target
		room = ethic_spaceship_room
	}
	is_triggered_only = yes
	custom_gui = gts_bfbf_leader_Overview
	trigger = {
		NOT = {
			has_country_flag = gts_bfbf_open1
		}
	}
	immediate = {
		set_country_flag = gts_bfbf_open1
		set_variable = {
			which = gts_ui_leader_love_page
			value = 1
		}
		set_variable = {
			which = gts_ui_leader_decorations_page
			value = 1
		}
	}

	option = {
		name = test
		# custom_gui = gts_option_bfbf1
	}
	# option = {
	# 	name = test
	# }
	# option = {
	# 	name = test
	# }
	# option = {
	# 	name = test
	# }
	# option = {
	# 	name = test
	# }
	# option = {
	# 	name = test
	# }
	# option = {
	# 	name = test
	# }
	# option = {
	# 	name = test
	# }
	# option = {
	# 	name = test
	# }
	# option = {
	# 	name = test
	# }



	after = {
		remove_country_flag = gts_bfbf_open1
	}
}
#######################################################星球改造########################################################################################################################
planet_event = {
	id = gts_bfbf.1416
	title = test
	desc = gts_bfbf.11416.desc
	is_triggered_only = yes
	immediate = {
		this = {

			if = {
				#是否成功改造（星球没有碎掉）
				limit = {
					event_target:gts_bfbf_love_target = {
						check_variable = {
							which = gts_love_logs
							value >= 25
							value < 75
						}
					}
				}
				random_list = {
					5 = {
						gts_destroy_planet = yes
					}
					4 = {
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
					1 = {
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
				}
			}
			if = {
				#是否成功改造（星球没有碎掉）
				limit = {
					event_target:gts_bfbf_love_target = {
						check_variable = {
							which = gts_love_logs
							value >= 75
							value < 100
						}
					}
				}
				random_list = {
					1 = {
						gts_destroy_planet = yes
					}
					1 = {
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
					2 = {
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
				}
			}
			if = {
				#是否成功改造（星球没有碎掉）
				limit = {
					event_target:gts_bfbf_love_target = {
						check_variable = {
							which = gts_love_logs
							value >= 100
						}
					}
				}
				random_list = {
					0 = {
						gts_destroy_planet = yes
					}
					1 = {
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
					3 = {
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
				}
			}
			if = {
				limit = {
					not = {
						has_building = building_planetary_shield_generator
					}
				}
				add_planet_devastation = 100
			}
			if = {
				limit = {
					has_building = building_planetary_shield_generator
				}
				add_planet_devastation = 75
			}
			change_pc = pc_gts_juice
		}

	}
	option = {
		name = gts_ui.1.a
	}
	after = {
	}
}
planet_event = {
	id = gts_bfbf.1417
	title = test
	desc = gts_bfbf.11417.desc
	is_triggered_only = yes
	immediate = {
		this = {
			if = {
				#是否成功改造（星球没有碎掉）
				limit = {
					event_target:gts_bfbf_love_target = {
						check_variable = {
							which = gts_love_logs
							value >= 25
							value < 75
						}
					}
				}
				random_list = {
					5 = {
						gts_destroy_planet = yes
					}
					4 = {
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
					1 = {
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
				}
			}
			if = {
				#是否成功改造（星球没有碎掉）
				limit = {
					event_target:gts_bfbf_love_target = {
						check_variable = {
							which = gts_love_logs
							value >= 75
							value < 100
						}
					}
				}
				random_list = {
					1 = {
						gts_destroy_planet = yes
					}
					1 = {
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
					2 = {
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
				}
			}
			if = {
				#是否成功改造（星球没有碎掉）
				limit = {
					event_target:gts_bfbf_love_target = {
						check_variable = {
							which = gts_love_logs
							value >= 100
						}
					}
				}
				random_list = {
					0 = {
						gts_destroy_planet = yes
					}
					1 = {
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_deposit = d_city_ruins
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
					3 = {
						add_modifier = {
							modifier = gts_juice_colony_1
						}
						add_modifier = {
							modifier = gts_juice_colony_2
						}
						add_modifier = {
							modifier = gts_juice_colony_3
						}
					}
				}
			}
			if = {
				#添加破坏度
				limit = {
					not = {
						has_building = building_planetary_shield_generator
					}
				}
				add_planet_devastation = 100
			}
			if = {
				#添加破坏度
				limit = {
					has_building = building_planetary_shield_generator
				}
				add_planet_devastation = 75
			}
			change_pc = pc_gts_semen
		}
	}
	option = {
		name = gts_ui.1.a
	}
	after = {

		owner = {
			remove_country_flag = gts_bfbf_planet_test1_flag
		}
	}
}
planet_event = {
	id = gts_bfbf.1418
	title = test
	desc = gts_bfbf.11418.desc
	is_triggered_only = yes
	immediate = {
		this = {
			add_planet_devastation = 25
			add_deposit = d_gts_footsweat_1
			add_deposit = d_gts_footsweat_1
			add_deposit = d_gts_footsweat_1
			add_deposit = d_gts_footsweat_1
			add_deposit = d_gts_footsweat_1
			add_deposit = d_gts_footsweat_1
		}
	}
	option = {
		name = gts_ui.1.a
	}
	after = {
	}
}
planet_event = {
	id = gts_bfbf.1419
	title = test
	desc = gts_bfbf.11419.desc
	is_triggered_only = yes
	immediate = {
		this = {
			add_planet_devastation = 25
			add_deposit = d_oscillator_ruin1
			add_deposit = d_oscillator_ruin1
			add_deposit = d_oscillator_ruin1
			add_deposit = d_oscillator_ruin1
			add_deposit = d_oscillator_clean1
			add_deposit = d_oscillator_clean1
			add_deposit = d_oscillator_clean1
			add_deposit = d_oscillator_clean1
			add_deposit = d_oscillator_ruin2
			add_deposit = d_oscillator_ruin2
			add_deposit = d_oscillator_ruin2
			add_deposit = d_oscillator_ruin2
		}
	}
	option = {
		name = gts_ui.1.a
	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_planet_test1_flag
		}
	}
}
###############################################送点礼物##########################################################################################################
country_event = {
	id = gts_bfbf.11418
	title = test
	is_triggered_only = yes
	immediate = {

	}
	option = {
		name = gts_ui.1.a
		event_target:gts_bfbf_love_target = {
			change_variable = {
				value = 25
				which = gts_love_logs
			}
		}
	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_gift_test1_flag
		}
	}
}
country_event = {
	id = gts_bfbf.11419
	title = test
	is_triggered_only = yes
	immediate = {

	}
	option = {
		name = gts_ui.1.a
		event_target:gts_bfbf_love_target = {
			change_variable = {
				value = 50
				which = gts_love_logs
			}
		}
	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_gift_test1_flag
		}
	}
}
country_event = {
	id = gts_bfbf.11420
	title = test
	is_triggered_only = yes
	immediate = {

	}
	option = {
		name = gts_ui.1.a
		event_target:gts_bfbf_love_target = {
			change_variable = {
				value = 100
				which = gts_love_logs
			}
		}

	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_gift_test1_flag
		}
	}
}
###############################################送一整个星球############################################################################################
planet_event = {
	id = gts_bfbf.1420
	title = test
	desc = test2
	is_triggered_only = yes
	immediate = {
		#这玩意不能用this
		event_target:gts_bfbf_giftplanet = {
			export_trigger_value_to_variable = {
				#区划数，后面乘10用作城市数
				trigger = planet_size
				variable = gts_bfbf_planet_crushed_city_count
			}
			export_trigger_value_to_variable = {
				#区划数，后面除以10用作好感
				trigger = planet_size
				variable = gts_bfbf_planet_love_count1
			}
			export_trigger_value_to_variable = {
				#区划数，后面计算一下改改（没想好）用作经验
				trigger = planet_size
				variable = gts_bfbf_planet_exp_count1
			}

			export_trigger_value_to_variable = {
				#图图了多少小人
				trigger = pop_amount
				variable = gts_bfbf_planet_killed_pop_count
			}
			export_trigger_value_to_variable = {
				#加多少好感 后面再计算
				trigger = pop_amount
				variable = gts_bfbf_planet_love_count2
			}
			export_trigger_value_to_variable = {
				#加多少经验 后面再计算
				trigger = pop_amount
				variable = gts_bfbf_planet_exp_count2
			}



			multiply_variable = {
				#区划  毁灭的城市数量 的计算
				which = gts_bfbf_planet_crushed_city_count
				value = 10
			}
			divide_variable = {
				#图图了多少小人的计算
				which = gts_bfbf_planet_killed_pop_count
				value = 100
			}



			divide_variable = {
				#区划  好感 的计算
				which = gts_bfbf_planet_love_count1
				value = 10
			}
			divide_variable = {
				#人口 好感的计算
				which = gts_bfbf_planet_love_count2
				value = 1000
			}
			change_variable = {
				value = event_target:gts_bfbf_giftplanet.gts_bfbf_planet_love_count1
				#这里必须写event_target
				which = gts_bfbf_planet_love_count
			}
			change_variable = {
				value = event_target:gts_bfbf_giftplanet.gts_bfbf_planet_love_count2
				#这里必须写event_target
				which = gts_bfbf_planet_love_count
			}


			multiply_variable = {
				#区划  经验 的计算
				which = gts_bfbf_planet_exp_count1
				value = 100
			}
			divide_variable = {
				#人口 经验 的计算
				which = gts_bfbf_planet_exp_count2
				value = 100
			}
			change_variable = {
				value = event_target:gts_bfbf_giftplanet.gts_bfbf_planet_exp_count1
				#这里必须写event_target
				which = gts_bfbf_planet_exp_count
			}
			change_variable = {
				value = event_target:gts_bfbf_giftplanet.gts_bfbf_planet_exp_count2
				#这里必须写event_target
				which = gts_bfbf_planet_exp_count
			}
		}
	}
	option = {
		name = gts_ui.1.a
		custom_tooltip =  gts_bfbf.1420_custom_tooltip
		hidden_effect = {
			event_target:gts_bfbf_love_target = {
				change_variable = {
					which = gts_city_kills_logs
					value = event_target:gts_bfbf_giftplanet.gts_bfbf_planet_crushed_city_count
				}
				change_variable = {
					which = gts_planet_kills_logs
					value = 1
				}
				random_list = {
					1 = {
						change_variable = {
							which = gts_vore_kills_logs
							value = event_target:gts_bfbf_giftplanet.gts_bfbf_planet_killed_pop_count
						}
					}
					1 = {
						change_variable = {
							which = gts_ub_kills_logs
							value = event_target:gts_bfbf_giftplanet.gts_bfbf_planet_killed_pop_count
						}
					}
					1 = {
						change_variable = {
							which = gts_feet_kills_logs
							value = event_target:gts_bfbf_giftplanet.gts_bfbf_planet_killed_pop_count
						}
					}
					1 = {
						change_variable = {
							which = gts_bread_logs
							value = event_target:gts_bfbf_giftplanet.gts_bfbf_planet_killed_pop_count
						}
					}
				}
				change_variable = {
					value = event_target:gts_bfbf_giftplanet.gts_bfbf_planet_love_count
					#这里必须写event_target
					which = gts_love_logs
				}
				add_experience = event_target:gts_bfbf_giftplanet.gts_bfbf_planet_exp_count
			}
		}
	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_planet_test1_flag
		}
		remove_planet = yes
	}
}

#############################################################体内探索#########################################################################################

country_event = {
	id = gts_bfbf.11421
	title = test
	is_triggered_only = yes
	immediate = {

	}
	option = {
		name = gts_ui.1.a
		event_target:gts_bfbf_love_target = {
			add_trait = {
				trait = leader_trait_galaxyinside
			}
		}
	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_exploration_test1_flag
		}
	}
}
###############################################装配饰品#########################################################################################################
country_event = {
	id = gts_bfbf.11428
	title = test
	is_triggered_only = yes
	immediate = {

	}
	option = {
		name = gts_ui.1.a
		remove_megastructure = event_target:gts_bfbf_decorations_event_target
	}
	after = {
		remove_country_flag = built_think_tank
	}
}

##############################################换职位################################################################################################################
country_event = {
	#科学家
	id = gts_bfbf.11422
	title = test
	is_triggered_only = yes
	immediate = {
	}
	option = {
		name = gts_ui.1.a
		event_target:gts_bfbf_love_target = {
			change_leader_class = scientist
		}
	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_duty_test1_flag
		}
	}
}
country_event = {
	#总督
	id = gts_bfbf.11423
	title = test
	is_triggered_only = yes
	immediate = {
	}
	option = {
		name = gts_ui.1.a
		event_target:gts_bfbf_love_target = {
			change_leader_class = official
		}
	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_duty_test1_flag
		}
	}
}
country_event = {
	#指挥官
	id = gts_bfbf.11424
	title = test
	is_triggered_only = yes
	immediate = {
	}
	option = {
		name = gts_ui.1.a
		event_target:gts_bfbf_love_target = {
			change_leader_class = commander
		}
	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_duty_test1_flag
		}
	}
}
##########################################通用但需要单独写############################################################################################################
##########################################作为舰船/星球############################################################################################################
country_event = {
	#作为舰船
	id = gts_bfbf.11425
	is_triggered_only = yes
	hide_window = yes
	immediate = {
		if = {
			limit = {
				event_target:gts_bfbf_love_target = {
					has_leader_flag = gts_huatian
				}
			}
			country_event = {
				id = gts_huatian.1081
			}
		}
		if = {
			limit = {
				event_target:gts_bfbf_love_target = {
					has_leader_flag = gts_seele
				}
			}
			country_event = {
				id = gts_seele.207
			}
		}
		if = {
			limit = {
				event_target:gts_bfbf_love_target = {
					has_leader_flag = gts_seele_li
				}
			}
			country_event = {
				id = gts_seele.208
			}
		}
		if = {
			limit = {
				event_target:gts_bfbf_love_target = {
					has_leader_flag = gts_bronya
				}
			}
			country_event = {
				id = gts_seele.209
			}
		}



	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_change_test1_flag
		}
	}
}

country_event = {
	#作为星球
	id = gts_bfbf.11426
	is_triggered_only = yes
	hide_window = yes
	immediate = {
		if = {
			limit = {
				event_target:gts_bfbf_love_target = {
					has_leader_flag = gts_seele
				}
			}
			country_event = {
				id = gts_seele.205
			}
		}
		if = {
			limit = {
				event_target:gts_bfbf_love_target = {
					has_leader_flag = gts_seele_li
				}
			}
			country_event = {
				id = gts_seele.210
			}
		}
		if = {
			limit = {
				event_target:gts_bfbf_love_target = {
					has_leader_flag = gts_bronya
				}
			}
			country_event = {
				id = gts_seele.211
			}
		}



	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_change_test1_flag
		}
	}
}


##############################################结婚#####################################################################################################

country_event = {
	id = gts_bfbf.11427
	title = test
	is_triggered_only = yes
	immediate = {
	}
	option = {
		name = gts_ui.1.a
		event_target:gts_bfbf_love_target = {
			set_leader_flag = gts_married
		}
	}
	after = {
	}
}










##############################################部分领袖可用#####################################################################################################

country_event = {
	#挤奶
	id = gts_bfbf.11501
	title = test
	is_triggered_only = yes
	immediate = {
	}
	option = {
		name = gts_ui.1.a
		add_resource = {
			food = 1000000
		}
	}
	after = {
		owner = {
			remove_country_flag = gts_bfbf_duty_test1_flag
		}
	}
}





####################   换抱枕测试    ###################################################################################################################################

country_event = {
	id = gts_bfbf.11502
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		owner = {
			set_country_flag = bfbf_test_baozhen1
			remove_country_flag = bfbf_test_baozhen2
		}
	}
}
country_event = {
	id = gts_bfbf.11503
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		owner = {
			set_country_flag = bfbf_test_baozhen2
			remove_country_flag = bfbf_test_baozhen1
		}
	}
}



######################################     饰品建造    #################################################################################
country_event = {
	id = gts_bfbf.12001
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_1
		}
	}
}
country_event = {
	id = gts_bfbf.12002
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_2
		}
	}
}
country_event = {
	id = gts_bfbf.12003
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_3
		}
	}
}
country_event = {
	id = gts_bfbf.12004
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_4
		}
	}
}
country_event = {
	id = gts_bfbf.12005
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_5
		}
	}
}
country_event = {
	id = gts_bfbf.12006
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_6
		}
	}
}
country_event = {
	id = gts_bfbf.12007
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_7
		}
	}
}
country_event = {
	id = gts_bfbf.12008
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_8
		}
	}
}
country_event = {
	id = gts_bfbf.12009
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_9
		}
	}
}
country_event = {
	id = gts_bfbf.12010
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_10
		}
	}
}
country_event = {
	id = gts_bfbf.12011
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_11
		}
	}
}
country_event = {
	id = gts_bfbf.12012
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_12
		}
	}
}
country_event = {
	id = gts_bfbf.12013
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_13
		}
	}
}
country_event = {
	id = gts_bfbf.12014
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_14
		}
	}
}
country_event = {
	id = gts_bfbf.12015
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_15
		}
	}
}
country_event = {
	id = gts_bfbf.12016
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_16
		}
	}
}
country_event = {
	id = gts_bfbf.12017
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	}

	after = {
		change_variable = {
			value = 1
			which = gts_leader_decorations_17
		}
	}
}




#########################################################一般不用去管  特质用到的事件########################################################################################################
########################################################################################################################################################
########################################################好感度变化############################################################################################
country_event = {
	id = gts_bfbf.11601
	is_triggered_only = yes
	hide_window = yes
	immediate = {
		every_owned_leader = {
			limit = {
				has_trait = trait_leader_gts_love_logs
			}
			change_variable = {
				value = 5
				which = gts_love_logs
			}
		}
	}
	after = {

	}
}
########################################################技能特质的############################################################################################

event = {
	#星系调查完毕
	id = gts_bfbf.11701
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = leader
		leader = {
			has_leader_flag = gts_skill_scientist_level_two_2
		}
	}

	immediate = {
		owner = {
			add_resource = {

			}
		}
	}
}
event = {
	#异常研究完毕
	id = gts_bfbf.11702
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = leader
		leader = {
			has_leader_flag = gts_skill_scientist_level_two_4
		}
	}

	immediate = {
		owner = {
			add_resource = {

			}
		}
	}
}
country_event = {
	#坟研究完毕
	id = gts_bfbf.11702
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = leader
		leader = {
			has_leader_flag = gts_skill_scientist_level_two_5
		}
	}

	immediate = {
		owner = {
			add_resource = {

			}
		}
	}
}
country_event = {
	#打捞舰船
	id = gts_bfbf.11703
	is_triggered_only = yes
	hide_window = yes

	# Check if the country has a leader with the salvager trait in the same system
	#并非并非抄的原版 paragon_2.1005
	trigger = {
		any_owned_leader = {
			has_leader_flag = gts_skill_commander_level_two_5
			exists = solar_system
			solar_system = {
				is_same_value = from.solar_system
			}
		}
	}

	immediate = {
		salvage_ships_from_debris = {
			CHANCE = value:country_salvage_ships_from_debris_chance
		}
	}
}
country_event = {
	#拆船
	id = gts_bfbf.11704
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		FROMFROM = { # Winning ship.
			if = {
				limit = { exists = fleet.leader }
				fleet.leader = {
					if = {
						limit = {
							has_leader_flag = gts_skill_commander_level_two_5
							ROOT.FROM = {
								# Owner of losing fleet.
								is_default_or_fallen = yes
							}
						}
						ROOT = {
							add_resource = {
								alloys = 300
							}
						}
					}
				}
			}
		}
	}
}













