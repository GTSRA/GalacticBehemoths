namespace = gts_utility
# 一些工具性事件
# gts_utility.1xx 基本功能
# gts_utility.2xx 种族
# gts_utility.3xx 领袖
country_event = {
	# 创建时给国家选定默认的政策
	id = gts_utility.100
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			# 巨娘默认政策
			limit = {
				is_same_species = owner_main_species
				species = {
					is_gts = yes
				}
			}
			set_country_flag = gts_finish_change_giant_buildings
			set_country_flag = gts_finish_change_giant_fleet
			set_policy = {
				policy = gts_building_style
				option = giant_building_style
				cooldown = no
			}
			set_policy = {
				policy = gts_fleet_style
				option = giant_fleet_style
				cooldown = no
			}
		}
		else = {
			# 小人默认政策
			set_policy = {
				policy = gts_building_style
				option = tiny_building_style
				cooldown = no
			}
			set_policy = {
				policy = gts_fleet_style
				option = tiny_fleet_style
				cooldown = no
			}
		}
	}
}

country_event = {

	# 檢測更新變量

	id = gts_utility.101
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		save_event_target_as = gts_country_value_scope
		set_variable = {
			# 開局設定情報頁面
			which = gts_ui_intel_page
			value = 1
		}
		# 計算方式改在gts_script_values.txt裡
		#set_variable = {
		#	# 升级为巨娘尺寸舰队单价
		#	which = gts_change_ship_cost
		#	value = 500
		#}
		set_variable = {
			# 升級為巨娘尺寸艦隊的總花費
			which = gts_change_ship_total_cost
			value = 0
		}
		set_variable = {
			# 升級為巨娘尺寸太空生物艦隊的總花費
			which = gts_change_bio_ship_total_cost
			value = 0
		}
		set_variable = {
			# 升级为巨娘尺寸建筑总花费
			which = gts_change_total_cost
			value = 0
		}
		set_variable = {
			# 建筑升级花费
			which = gts_change_building_cost
			value = 1000
		}
		set_variable = {
			# 建筑数量(事件结束后清除)
			which = gts_total_building_amount
			value = 0
		}
		set_variable = {
			# 區劃升級花費
			which = gts_change_district_cost
			value = 500
		}
		set_variable = {
			# 區劃數量(事件結束後清除)
			which = gts_total_district_amount
			value = 0
		}

		every_owned_planet = {
			save_event_target_as = gts_planet_value_scope
			limit = {
				is_colony = yes
				is_under_colonization = no
			}
			# 檢測每個星球上的建築數量
			set_variable = {
				# 本地建築數量
				which = gts_local_building_amount
				value = 0
			}
			change_variable = {
				which = gts_local_building_amount
				value = value:gts_count_buildings
			}

			# 偵測每個星球上的區劃數量
			set_variable = {
				# 本地建築數量
				which = gts_local_district_amount
				value = 0
			}
			change_variable = {
				which = gts_local_district_amount
				value = value:gts_count_districts
			}

			# 累加到counrty value
			event_target:gts_country_value_scope = {
				change_variable = {
					which = gts_total_building_amount
					value = event_target:gts_planet_value_scope.gts_local_building_amount
				}
				change_variable = {
					which = gts_total_district_amount
					value = event_target:gts_planet_value_scope.gts_local_district_amount
				}
			}
			# 删除planet value
			event_target:gts_planet_value_scope = {
				clear_variable = gts_local_building_amount
				clear_variable = gts_local_district_amount
			}
		}

		# 統計升級建築總花費
		multiply_variable = {
			which = gts_change_building_cost
			value = gts_total_building_amount
		}
		multiply_variable = {
			which = gts_change_district_cost
			value = gts_total_district_amount
		}
		change_variable = {
			which = gts_change_total_cost
			value = gts_change_building_cost
		}
		change_variable = {
			which = gts_change_total_cost
			value = gts_change_district_cost
		}

		# 統計升級艦船總花費
		change_variable = {
			which = gts_change_ship_total_cost
			value = value:gts_count_ships
		}
		change_variable = {
			which = gts_change_bio_ship_total_cost
			value = value:gts_count_bio_hips
		}
		# 計算方式改在gts_script_values.txt裡
		#multiply_variable = {
		#	which = gts_change_ship_total_cost
		#	value = gts_change_ship_cost
		#}

		# 刪除不需要的變量
		clear_variable = gts_change_building_cost
		clear_variable = gts_change_district_cost
		clear_variable = gts_total_building_amount
		clear_variable = gts_total_district_amount
		clear_variable = gts_change_ship_cost
		clear_variable = gts_change_bio_ship_cost
	}
}

country_event = {
	# 给予通信面板
	id = gts_utility.102
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		is_ai = no
	}
	immediate = {
		add_relic = "relic_gts_communication"
		set_variable = {
			which = gts_leader_cost_mult
			value = 1
		}
	}
}

country_event = {
	# 巨娘动态加成
	id = gts_utility.103
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_country_flag = gts_flag
	}
	immediate = {
		remove_modifier = gts_level_1_modifier
		remove_modifier = gts_level_2_modifier
		remove_modifier = gts_level_3_modifier
		remove_modifier = gts_level_4_modifier
		remove_modifier = gts_level_5_modifier
		if = {
			limit = {
				has_global_flag = gts_level_1
			}
			add_modifier = {
				modifier = "gts_level_1_modifier"
				days = -1
			}
		}
		else_if = {
			limit = {
				has_global_flag = gts_level_2
			}
			add_modifier = {
				modifier = "gts_level_2_modifier"
				days = -1
			}
		}
		else_if = {
			limit = {
				has_global_flag = gts_level_3
			}
			add_modifier = {
				modifier = "gts_level_3_modifier"
				days = -1
			}
		}
		else_if = {
			limit = {
				has_global_flag = gts_level_4
			}
			add_modifier = {
				modifier = "gts_level_4_modifier"
				days = -1
			}
		}
		else_if = {
			limit = {
				has_global_flag = gts_level_5
			}
			add_modifier = {
				modifier = "gts_level_5_modifier"
				days = -1
			}
		}
	}
}

event = {
	# 添加全局flag
	id = gts_utility.104
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		set_global_flag = gts_level_1
	}
}

planet_event = {
	# 防止gts星球被碎星
	id = gts_utility.105
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		OR = {
			has_planet_flag = gtsra_loli_planet
			has_planet_flag = gtsra_slave_planet
			has_planet_flag = gts_kasa_planet
		}
	}
	immediate = {
		from.owner = {
			country_event = {
				id = gts_utility.106
			}
		}
		owner = {
			country_event = {
				id = gts_utility.107
			}
		}
	}
}

country_event = {
	# 防止巨娘星球被炸(轰炸者)
	id = gts_utility.106
	title = gts_utility.106.name
	desc = gts_utility.106.desc
	picture = GFX_gtsra_load_6
	show_sound = event_mystic_reveal
	location = root
	is_triggered_only = yes
	immediate = {
		destroy_country = yes
	}
	option = {
		name = gts_utility.106.a
	}
}

country_event = {
	# 防止巨娘星球被炸(被轰炸者)
	id = gts_utility.107
	title = gts_utility.107.name
	desc = gts_utility.107.desc
	picture = GFX_evt_crisis_defeated
	show_sound = event_mystic_reveal
	location = root
	is_triggered_only = yes
	option = {
		name = gts_utility.107.a
	}
}

country_event = {

	# 給所有沒有體型的種族增加體型

	id = gts_utility.200
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		any_galaxy_species = {
			is_gts = no
			is_tiny = no
		}
	}

	immediate = {

		# 墮落/掠奪
		if = {
			limit = {
				OR = {
					is_country_type = fallen_empire
					is_country_type = marauder_raiders
				}
			}
			owner_main_species = {
				random_list = {
					14 = {
						change_species_characteristics = {
							add_trait = trait_Titan
						}
					}
					10 = {
						change_species_characteristics = {
							add_trait = trait_Giant
						}
					}
					8 = {
						change_species_characteristics = {
							add_trait = trait_Tall
						}
					}
					3 = {
						change_species_characteristics = {
							add_trait = trait_Normal
						}
					}
					2 = {
						change_species_characteristics = {
							add_trait = trait_Small
						}
					}
					2 = {
						change_species_characteristics = {
							add_trait = trait_Tiny
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Micro
						}
					}
				}
			}
		}

		else_if = {
			limit = {
				owner_main_species = {
					is_gts = no
					has_trait = trait_gts_begin
				}
			}

			# 巨娘開局
			owner_main_species = {
				random_list = {
					1 = {
						change_species_characteristics = {
							add_trait = trait_Titan
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Giant
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Tall
						}
					}
				}
			}
		}

		else_if = {
			limit = {
				owner_main_species = {
					is_tiny = no
					has_trait = trait_tiny_begin
				}
			}

			# 小人開局
			owner_main_species = {
				random_list = {
					1 = {
						change_species_characteristics = {
							add_trait = trait_Normal
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Small
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Tiny
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Micro
						}
					}
				}
			}
		}

		else = {
			# 其餘的
			every_galaxy_species = {
				limit = {
					is_gts = no
					is_tiny = no
				}
				random_list = {
					1 = {
						change_species_characteristics = {
							add_trait = trait_Titan
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Giant
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Tall
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Normal
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Small
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Tiny
						}
					}
					1 = {
						change_species_characteristics = {
							add_trait = trait_Micro
						}
					}
				}
			}
		}
	}

	after = {
		every_galaxy_species  = {
			limit = {
				OR = {
					has_trait = trait_gts_begin
					has_trait = trait_tiny_begin
				}
			}
			change_species_characteristics = {
				remove_trait = trait_gts_begin
			}
			change_species_characteristics = {
				remove_trait = trait_tiny_begin
			}
		}
	}
}

country_event = {

	# 為所有國家添加體型flag

	id = gts_utility.201
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		NOR = {
			has_country_flag = gts_flag
			has_country_flag = tiny_flag
		}
	}

	immediate = {
		gts_ra_set_country_flag = yes
	}
}

country_event = {

	# 將新生成的領袖設定為與來源種族相同的大小特質

	id = gts_utility.300
	is_triggered_only = yes
	hide_window = yes

	immediate = {

		# 所有已招募领袖
		every_owned_leader = {
			limit = {
				NOT = { has_leader_flag = gts_bruh_intentional_size_leader_flag } # 有些領袖會刻意擁有與種族不同的體型(這個視需求自己添加)
				NOR = {
					is_special_leader = yes
					has_trait = trait_great_species
					has_trait = leader_trait_Ultra
					has_trait = leader_trait_Titan_start
					has_trait = leader_trait_Giant_start
					has_trait = leader_trait_Tall_start
					has_trait = leader_trait_Normal_start
					has_trait = leader_trait_Small_start
					has_trait = leader_trait_Tiny_start
					has_trait = leader_trait_Micro_start
					has_trait = leader_trait_Nano_start
				}
			}
			add_leader_trait_gts = yes # 將新生成的領袖設定為與來源種族相同的大小特質
		}

		#所有领袖池领袖
		every_pool_leader = {
			add_leader_trait_gts = yes
		}
		from = {
			leader_event = {
				id = gts_utility.301
			}
		}
	}
}

leader_event = {

	# 將新生成的領袖設定為與來源種族相同的大小特質(有些領袖因不明原因在生成時沒應用到上面那個，這裡再來一次確保)

	id = gts_utility.301
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		is_gts_leader = no
		is_tiny_leader = no
	}

	immediate = {
		if = {
			limit = {
				NOR = {
					is_special_leader = yes
					has_trait = trait_great_species
					has_trait = leader_trait_Ultra
					has_trait = leader_trait_Titan_start
					has_trait = leader_trait_Giant_start
					has_trait = leader_trait_Tall_start
					has_trait = leader_trait_Normal_start
					has_trait = leader_trait_Small_start
					has_trait = leader_trait_Tiny_start
					has_trait = leader_trait_Micro_start
					has_trait = leader_trait_Nano_start
				}
			}
			add_leader_trait_gts = yes
		}
	}
}

country_event = {
	#领袖死亡时触发复活
	id = gts_utility.302
	title = gts_utility.302.name
	desc = gts_utility.302.desc
	is_triggered_only = yes
	picture = GFX_load_47
	trigger = {
		from = {
			has_leader_flag = hired_gts_leader
		}
	}
	immediate = {
		clone_leader = {
			target = from
			skip_background_generation = yes
			effect = {
				if = {
					limit = {
						NAND = {
							root = {
								is_cloning_authority = yes
								is_imperial_authority = yes
							}
							from = {
								is_ruler = yes
							}
						}
					}
				}
				else = {
					root = {
						assign_leader = prev
					}
				}
				set_years_served = from
				restore_leader_location = yes
				#以下为新加的flag
				set_leader_flag = hired_gts_leader
				set_leader_flag = ignore_country_clone_pulse
				from = {
					switch = {
						trigger = has_leader_flag
						legendary_leader = {
							prev = {
								set_leader_flag = legendary_leader
							}
						}
						renowned_leader = {
							prev = {
								set_leader_flag = renowned_leader
							}
						}
						gts_aurora = {
							prev = {
								set_leader_flag = gts_aurora
								save_global_event_target_as = gts_aurora
							}
						}
						gts_arlo = {
							prev = {
								set_leader_flag = gts_arlo
								save_global_event_target_as = gts_arlo
							}
						}
						gts_luodi = {
							prev = {
								set_leader_flag = gts_luodi
								save_global_event_target_as = gts_luodi
							}
						}
						gts_sonxi = {
							prev = {
								set_leader_flag = gts_sonxi
								save_global_event_target_as = gts_sonxi
							}
						}
						gts_yiyan = {
							prev = {
								set_leader_flag = gts_yiyan
								save_global_event_target_as = gts_yiyan
							}
						}
						gts_linglu = {
							prev = {
								set_leader_flag = gts_linglu
								save_global_event_target_as = gts_linglu
							}
						}
						gts_eyjafjalla = {
							prev = {
								set_leader_flag = gts_eyjafjalla
								save_global_event_target_as = gts_eyjafjalla
							}
						}
						gts_Koharu = {
							prev = {
								set_leader_flag = gts_Koharu
								save_global_event_target_as = gts_Koharu
							}
						}
						gts_Hanako = {
							prev = {
								set_leader_flag = gts_Hanako
								save_global_event_target_as = gts_Hanako
							}
						}
						gts_jifeng = {
							prev = {
								set_leader_flag = gts_jifeng
								save_global_event_target_as = gts_jifeng
							}
						}
						gts_erika = {
							prev = {
								set_leader_flag = gts_erika
								save_global_event_target_as = gts_erika
							}
						}
						gts_goldenglow = {
							prev = {
								set_leader_flag = gts_goldenglow
								save_global_event_target_as = gts_goldenglow
							}
						}
						gts_huatian = {
							prev = {
								set_leader_flag = gts_huatian
								save_global_event_target_as = gts_huatian
							}
						}
						gts_aya = {
							prev = {
								set_leader_flag = gts_aya
								save_global_event_target_as = gts_aya
							}
						}
						gts_eliza = {
							prev = {
								set_leader_flag = gts_eliza
								save_global_event_target_as = gts_eliza
							}
						}
						gts_xiaomiao = {
							prev = {
								set_leader_flag = gts_xiaomiao
								save_global_event_target_as = gts_xiaomiao
							}
						}
						gts_archetto = {
							prev = {
								set_leader_flag = gts_archetto
								save_global_event_target_as = gts_archetto
							}
						}
						gts_blemishine = {
							prev = {
								set_leader_flag = gts_blemishine
								save_global_event_target_as = gts_blemishine
							}
						}
						gts_satori = {
							prev = {
								set_leader_flag = gts_satori
								save_global_event_target_as = gts_satori
							}
						}
						gts_doctor = {
							prev = {
								set_leader_flag = gts_doctor
								save_global_event_target_as = gts_doctor
							}
						}
						gts_mari = {
							prev = {
								set_leader_flag = gts_mari
								save_global_event_target_as = gts_mari
							}
						}
						gts_tiantiao = {
							prev = {
								set_leader_flag = gts_tiantiao
								save_global_event_target_as = gts_tiantiao
							}
						}
						gts_guya = {
							prev = {
								set_leader_flag = gts_guya
								save_global_event_target_as = gts_guya
							}
						}
						gts_mizuki = {
							prev = {
								set_leader_flag = gts_mizuki
								save_global_event_target_as = gts_mizuki
							}
						}
						gts_sera = {
							prev = {
								set_leader_flag = gts_sera
								save_global_event_target_as = gts_sera
							}
						}
						gts_allomerus = {
							prev = {
								set_leader_flag = gts_allomerus
								save_global_event_target_as = gts_allomerus
							}
						}
						gts_saratoga = {
							prev = {
								set_leader_flag = gts_saratoga
								save_global_event_target_as = gts_saratoga
							}
						}
						gts_tlipoca = {
							prev = {
								set_leader_flag = gts_tlipoca
								save_global_event_target_as = gts_tlipoca
							}
						}
						gts_qhai = {
							prev = {
								set_leader_flag = gts_qhai
								save_global_event_target_as = gts_qhai
							}
						}
						gts_tensi = {
							prev = {
								set_leader_flag = gts_tensi
								save_global_event_target_as = gts_tensi
							}
						}
						gts_seele = {
							prev = {
								set_leader_flag = gts_seele
								save_global_event_target_as = gts_seele
							}
						}
						gts_seele_li = {
							prev = {
								set_leader_flag = gts_seele_li
								save_global_event_target_as = gts_seele_li
							}
						}
						gts_bronya = {
							prev = {
								set_leader_flag = gts_bronya
								save_global_event_target_as = gts_bronya
							}
						}
						gts_firefly = {
							prev = {
								set_leader_flag = gts_firefly
								save_global_event_target_as = gts_firefly
							}
						}
						gts_xinuo = {
							prev = {
								set_leader_flag = gts_xinuo
								save_global_event_target_as = gts_xinuo
							}
						}
						gts_carlotta = {
							prev = {
								set_leader_flag = gts_carlotta
								save_global_event_target_as = gts_carlotta
							}
						}
						gts_linfeng = {
							prev = {
								set_leader_flag = gts_linfeng
								save_global_event_target_as = gts_linfeng
							}
						}
					}
				}
				set_variable = {
					which = gts_leader_body_type_1_1
					value = from.gts_leader_body_type_1_1
				}
				set_variable = {
					which = gts_leader_body_type_1_2
					value = from.gts_leader_body_type_1_2
				}
				set_variable = {
					which = gts_leader_body_type_1_3
					value = from.gts_leader_body_type_1_3
				}
				### 乳
				set_variable = {
					which = gts_leader_body_type_2_1
					value = from.gts_leader_body_type_2_1
				}
				set_variable = {
					which = gts_leader_body_type_2_2
					value = from.gts_leader_body_type_2_2
				}
				set_variable = {
					which = gts_leader_body_type_2_3
					value = from.gts_leader_body_type_2_3
				}
				### 肠胃
				set_variable = {
					which = gts_leader_body_type_3_1
					value = from.gts_leader_body_type_3_1
				}
				set_variable = {
					which = gts_leader_body_type_3_2
					value = from.gts_leader_body_type_3_2
				}
				set_variable = {
					which = gts_leader_body_type_3_3
					value = from.gts_leader_body_type_3_3
				}
				### 小穴
				set_variable = {
					which = gts_leader_body_type_4_1
					value = from.gts_leader_body_type_4_1
				}
				set_variable = {
					which = gts_leader_body_type_4_2
					value = from.gts_leader_body_type_4_2
				}
				set_variable = {
					which = gts_leader_body_type_4_3
					value = from.gts_leader_body_type_4_3
				}
				### 足底
				set_variable = {
					which = gts_leader_body_type_5_1
					value = from.gts_leader_body_type_5_1
				}
				set_variable = {
					which = gts_leader_body_type_5_2
					value = from.gts_leader_body_type_5_2
				}
				set_variable = {
					which = gts_leader_body_type_5_3
					value = from.gts_leader_body_type_5_3
				}
				### 道具槽位
				set_variable = {
					which = gts_leader_slot_1_item
					value = from.gts_leader_slot_1_item
				}
				set_variable = {
					which = gts_leader_slot_2_item
					value = from.gts_leader_slot_2_item
				}
				set_variable = {
					which = gts_leader_slot_3_item
					value = from.gts_leader_slot_3_item
				}
				set_variable = {
					which = gts_leader_slot_4_item
					value = from.gts_leader_slot_4_item
				}
				set_variable = {
					which = gts_leader_slot_5_item
					value = from.gts_leader_slot_5_item
				}
				set_variable = {
					which = gts_leader_slot_6_item
					value = from.gts_leader_slot_6_item
				}
				set_variable = {
					which = gts_leader_slot_7_item
					value = from.gts_leader_slot_7_item
				}
				set_variable = {
					which = gts_leader_slot_8_item
					value = from.gts_leader_slot_8_item
				}
				set_variable = {
					which = gts_leader_slot_9_item
					value = from.gts_leader_slot_9_item
				}
				set_variable = {
					which = gts_leader_slot_10_item
					value = from.gts_leader_slot_10_item
				}
				set_variable = {
					which = gts_leader_slot_11_item
					value = from.gts_leader_slot_11_item
				}
				set_variable = {
					which = gts_leader_slot_12_item
					value = from.gts_leader_slot_12_item
				}
				### 统计数据
				set_variable = {
					# 性欲值
					which = gts_lust_logs
					value = from.gts_lust_logs
				}
				set_variable = {
					# 脚臭程度
					which = gts_feet_logs
					value = from.gts_feet_logs
				}
				set_variable = {
					#好感度
					which = gts_love_logs
					value = from.gts_love_logs
				}
				set_variable = {
					# 吃掉的小人数量：
					which = gts_vore_kills_logs
					value = from.gts_vore_kills_logs
				}
				set_variable = {
					# ub
					which = gts_ub_kills_logs
					value = from.gts_ub_kills_logs
				}
				set_variable = {
					#踩死
					which = gts_feet_kills_logs
					value = from.gts_feet_kills_logs
				}
				set_variable = {
					# 饲养
					which = gts_bread_logs
					value = from.gts_bread_logs
				}
				set_variable = {
					# 城市
					which = gts_city_kills_logs
					value = from.gts_city_kills_logs
				}
				set_variable = {
					# 星球
					which = gts_planet_kills_logs
					value = from.gts_planet_kills_logs
				}
			}
		}
	}
	option = {
		name = OK
	}
}

# 从原版抄的著名/传奇领袖抽奖机制。
# 没来的及或者没有招募前事件的领袖也可以这么抽？
country_event = {
	id = gts_utility.303
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_paragon_dlc = yes
		is_ai = no
		is_homicidal = no
		has_technology = tech_xeno_linguistics
		NOT = {
			has_country_flag = leader_recruited_recently
		}
	}
	immediate = {
		random_list = {
			1 = {
				modifier = {
					add = 2
					any_owned_starbase = {
						has_starbase_building = recruitment_office
					}
				}
				country_event = {
					id = gts_utility.304
					days = 1
					random = 360
				}
			}
			0 = {
				modifier = {
					add = value:ethic_leader_lower_chance
				}
			}
		}
	}
}

# ethic leader lottery machine
# 原版是 paragon.40001
country_event = {
	id = gts_utility.304
	hide_window = yes
	is_triggered_only = yes
	trigger = {
	}
	immediate = {
		random_list = {
			1 = {
				modifier = {
					set = 0
					any_owned_leader = {
						has_leader_flag = gts_jifeng
					}
				}
				country_event = {
					id = gts_jifeng.999
				}
			}
			1 = {
				modifier = {
					set = 0
					any_owned_leader = {
						has_leader_flag = gts_goldenglow
					}
				}
				country_event = {
					id = gts_goldenglow.999
				}
			}
			1 = {
				modifier = {
					set = 0
					any_owned_leader = {
						has_leader_flag = gts_doctor
					}
				}
				modifier = {
					set = 0
					has_global_flag = gts_has_trigger_doctor
				}
				country_event = {
					id = gts_doctor.5
				}
			}
		}
	}
}
