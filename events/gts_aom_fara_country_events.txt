namespace = fara

event = {
	id = fara.1
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		create_country = {
			name = "NAME_fara"
			type = fara_country
			flag = {
				icon= {
					category = "aom"
					file = "fara_flag.dds"
				}
				background= {
					category = "backgrounds"
					file = "sinus.dds"
				}
				colors={
					"grey"
					"dark_grey"
					"null"
					"null"
				}
			}
		}
		last_created_country = {
			create_leader = {
				class = governor
				species = owner_main_species
				name = NAME_fara
				event_leader = yes
				skill = 10
				set_age = 0
				traits = {
					trait = subclass_governor_economist
					trait = leader_trait_urbanist_3
					trait = leader_trait_scrapper_2
				}
			}
			set_leader = last_created_leader
			last_created_leader = {
				change_leader_portrait = Fara
			}
			save_global_event_target_as = fara_country
		}
	}
}

#法拉尔达通讯
country_event = {
	id = fara.2
	is_triggered_only = yes
	diplomatic = yes
	title = "fara.2.name"
	desc = {
		text = "fara.2.desc"
	}

	picture_event_data = {
		portrait = event_target:fara_country.ruler
		room = "ethic_spaceship_room"
	}

	trigger = {
		is_ai = no
		has_origin = origin_panlon
	}
	
	immediate = {
		event_target:fara_country = {
			establish_communications_no_message = root
		}
		set_country_flag = has_fara
	}
	
	option = {
		name = fara.2.option
		hidden_effect = {
            country_event = {  id = aom_fara_leader.1 }
			country_event = {  id = illya.1 days = 3600}
        }
	}
}

# 起始通讯
country_event = {
	id = fara.3
	title = "fara.3.title"
	desc = "fara.3.a.desc"

	diplomatic = yes
	picture = GFX_evt_mysterious_signal
	picture_event_data = {
		portrait = event_target:fara_country.ruler
		room = root
	}

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = fara_diplomacy_engaged }
	}

	immediate = {
		set_country_flag = fara_diplomacy_engaged
	}

	after = {
		hidden_effect = { remove_country_flag = fara_diplomacy_engaged }
	}

	trigger = {
		from = { is_country_type = fara_country }
		is_ai = no
	}

	option = { #零花钱
        name = fara.3.a
		custom_tooltip = fara_3_a
        hidden_effect = {
            country_event = {  id = fara.4 }
        }
    }
	option = { #请求
        name = fara.3.b
		custom_tooltip = fara_3_b
        hidden_effect = {
            country_event = { id = fara.5 }
        }
    }
	option = { #英灵召唤
        name = fara.3.c
		custom_tooltip = fara_3_c
        hidden_effect = {
            country_event = { id = aom_leader.1 }
        }
    }
	option = { #英灵召唤
        name = fara.3.d
		custom_tooltip = fara_3_d
        hidden_effect = {
            country_event = { id = fara.15 }
        }
    }
	
	option = {
		name = fara.3.h
		default_hide_option = yes
	}
}
#零花钱界面
country_event = {
	id = fara.4
	title = fara.4.name
	desc = fara.4.desc
    diplomatic = yes

	picture_event_data = {
		portrait = event_target:fara_country.ruler
		room = root
	}

	is_triggered_only = yes

    trigger = {
        OR = {
			has_authority = auth_hales_panlon
        }
        is_ai = no
    }

	picture_event_data = {
		room = senka2_room
	}

    option = { 
        # 小钱钱
        name = fara.4.a
        add_resource = {
			energy = 5000
        }
		remove_country_flag = fara_diplomacy_engaged
    }

	option = { 
        # 饭饭
        name = fara.4.b
        add_resource = {
			food = 5000
        }
		remove_country_flag = fara_diplomacy_engaged
    }

	option = { 
        #材料
        name = fara.4.c
        add_resource = {
			minerals = 5000
        }
		remove_country_flag = fara_diplomacy_engaged
    }
	option = { 
        # 合金
        name = fara.4.d
        add_resource = {
			alloys = 1000
        }
		remove_country_flag = fara_diplomacy_engaged
    }
	option = { 
        # 手办
        name = fara.4.e
        add_resource = {
			consumer_goods = 1000
        }
		remove_country_flag = fara_diplomacy_engaged
    }

    # 返回主选单
    option = { 
        name = fara_return_to_main
        hidden_effect = {
            country_event = { id = fara.3 }
        }
    }

    # 退出
    option = { 
        name = fara_exit
        default_hide_option = yes
        remove_country_flag = fara_diplomacy_engaged
    }
}
# 请求
country_event = {
	id = fara.5
	title = fara.5.name
	desc = fara.5.desc
    diplomatic = yes

	picture_event_data = {
		portrait = event_target:fara_country.ruler
		room = root
	}
	
	is_triggered_only = yes

    trigger = {
        OR = {
			has_authority = auth_hales_panlon
        }
        is_ai = no
    }

	picture_event_data = {
		room = senka2_room
	}

    option = { 
        # 踩城市
        name = fara.5.a
		hidden_effect = {
            country_event = { id = fara.6 }
        }
		remove_country_flag = fara_diplomacy_engaged
    }
	option = { 
        # 踩城市
        name = fara.5.b
		hidden_effect = {
            country_event = { id = fara.12 }
        }
		remove_country_flag = fara_diplomacy_engaged
    }

    # 返回主选单
    option = { 
        name = fara_return_to_main
        hidden_effect = {
            country_event = { id = fara.3 }
        }
    }

    # 退出
    option = { 
        name = fara_exit
        default_hide_option = yes
        remove_country_flag = fara_diplomacy_engaged
    }
}
 # 踩城市
country_event = {
	id = fara.6
	title = fara.6.name
	desc = fara.6.desc
    diplomatic = yes

	picture_event_data = {
		portrait = event_target:fara_country.ruler
		room = root
	}

	is_triggered_only = yes

    option = { 
        # 踩城市
		name = fara.6.a
        random_owned_planet = {
			planet_event = { id = fara.7 }	
		}    
    }
}
planet_event = {
	#踩城市
	id = fara.7
	title = fara.7.name
	desc = fara.7.desc
	picture = GFX_event_fara_city_a_1
	show_sound = event_default
	is_triggered_only = yes
	option = {
		name = fara.7.a
		owner = {
			add_resource = {
				unity = 1000
			}
		}
		hidden_effect = {
            planet_event = { id = fara.8 }
        }
	}
}
planet_event = {
	#踩城市
	id = fara.8
	title = fara.8.name
	desc = fara.8.desc
	picture = GFX_event_fara_city_a_2
	show_sound = event_default
	is_triggered_only = yes

	option = {
		name = fara.8.a
		add_planet_devastation = 10
		owner = {
			add_resource = {
				unity = 1000
			}
		}
		hidden_effect = {
            planet_event = { id = fara.9 }
	    }
	}
}
planet_event = {
	#踩城市
	id = fara.9
	title = fara.9.name
	desc = fara.9.desc
	picture = GFX_event_fara_city_a_3
	show_sound = event_default
	is_triggered_only = yes

	option = {
		name = fara.9.a
		owner = {
			add_resource = {
				unity = 1000
			}
		}
		hidden_effect = {
            planet_event = { id = fara.10 }
        }
	}
}
planet_event = {
	#踩城市
	id = fara.10
	title = fara.10.name
	desc = fara.10.desc
	picture = GFX_event_fara_city_a_4
	show_sound = event_default
	is_triggered_only = yes

	option = {
		name = fara.10.a
		owner = {
			add_resource = {
				unity = 1000
			}
		}
		hidden_effect = {
            planet_event = {
				id = fara.11
				days = 30
				random = 30
			}
        }
	}
}
planet_event = {
	#踩城市
	id = fara.11
	title = fara.11.name
	desc = fara.11.desc
	picture = GFX_event_fara_city_a_5
	show_sound = event_default
	is_triggered_only = yes

	option = {
		name = fara.11.a
		add_planet_devastation = -10
		owner = {
			add_resource = {
				unity = 1000
			}
		}
	}
}
 # 夹星球
 country_event = {
	id = fara.12
	title = fara.12.name
	desc = fara.12.desc
    diplomatic = yes

	picture_event_data = {
		portrait = event_target:fara_country.ruler
		room = root
	}

	is_triggered_only = yes

    option = { 
        # 踩城市
		name = fara.6.a
        random_owned_planet = {
			planet_event = { id = fara.13 }	
		}    
    }

}
 # 夹星球
planet_event = {
	id = fara.13
	title = fara.13.name
	desc = fara.13.desc
	picture = GFX_event_fara_feet_1
	show_sound = event_default
	is_triggered_only = yes


	option = {
		name = fara.13.a
		add_modifier = {
			modifier = aom_modifier_fara_feet
		}
		hidden_effect = {
            planet_event = {
				id = fara.14
				days = 60
				random = 120
			}
        }
	}
}
planet_event = {
	id = fara.14
	title = fara.14.name
	desc = fara.14.desc
	picture = GFX_event_fara_feet_2
	show_sound = event_default
	is_triggered_only = yes

	option = {
		name = fara.14.a
		remove_modifier = aom_modifier_fara_feet
		add_modifier = {
			modifier = aom_modifier_fara_feet_A
			days = 720
		}
	}
}
country_event = {
	id = fara.15
	title = fara.15.name
	desc = fara.15.desc
    diplomatic = yes

	picture_event_data = {
		portrait = event_target:fara_country.ruler
		room = root
	}

	is_triggered_only = yes

    trigger = {
        OR = {
			has_authority = auth_hales_panlon
        }
        is_ai = no
    }

	picture_event_data = {
		room = senka2_room
	}

    option = { 
		custom_gui = "enclave_caravaneer_option"
        # 确认召唤
        name = fara.15.a
		allow = {
            custom_tooltip = {
				resource_stockpile_compare = { resource = sr_aom_saint_uartz value >= 3 }
			}
		}
		add_resource = {
			sr_aom_saint_uartz = -3
        }
		hidden_effect = {
            country_event = { id = aom_leader.1000 }
        }
		remove_country_flag = fara_diplomacy_engaged
    }

    # 返回主选单
    option = { 
        name = fara_return_to_main
        hidden_effect = {
            country_event = { id = fara.3 }
        }
    }

    # 退出
    option = { 
        name = fara_exit
        default_hide_option = yes
        remove_country_flag = fara_diplomacy_engaged
    }
}