################################################################################
###################                艦娘相關科技                ###################
################################################################################



tech_gts_destroyer_ship = {

	# 驅逐艦艦娘

	cost = @tier3cost3
	area = engineering
	tier = 3
	category = { voidcraft }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = 0
	gateway = ship

	weight_modifier = {}
	ai_weight = {}
}

tech_gts_battleship_ship = {

	# 戰列艦艦娘

	cost = @tier4cost3
	area = engineering
	tier = 4
	category = { voidcraft }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = 0

	weight_modifier = {}
	ai_weight = {}
}

tech_gts_titan_ship = {

	# 泰坦艦娘

	cost = @tier5cost3
	area = engineering
	tier = 5
	category = { voidcraft }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = 0

	weight_modifier = {}
	ai_weight = {}
}

# 反應堆

tech_gts_reactor = {

	# 艦娘生物反應爐

	cost = @tier3cost3
	area = society
	tier = 3
	category = { biology }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier3weight1
	potential = { has_ascension_perk = ap_space_gts }

	weight_modifier = {}
	ai_weight = {}
}

tech_gts_reactor_a = {

	# 強化艦娘生物反應爐

	cost = @tier4cost3
	area = society
	tier = 4
	category = { biology }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier4weight1
	prerequisites = { tech_gts_reactor }

	weight_modifier = {}
	ai_weight = {}
}

# 感測器

tech_gts_scout = {

	# 直感偵查

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { computing }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier3weight1
	potential = { has_ascension_perk = ap_space_gts }

	weight_modifier = {}
	ai_weight = {}
}

tech_gts_scout_a = {

	#　輔助偵查機組

	cost = @tier4cost3
	area = physics
	tier = 4
	category = { computing }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier4weight1
	prerequisites = { tech_gts_scout }

	weight_modifier = {}
	ai_weight = {}
}

# 躍遷引擎

tech_gts_ftl_engine = {

	# 肉身超空間引擎

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { particles }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier3weight1
	potential = { has_ascension_perk = ap_space_gts }

	weight_modifier = {}
	ai_weight = {}
}

tech_gts_ftl_engine_a = {

	# 俺尋思超空間引擎

	cost = @tier4cost3
	area = physics
	tier = 4
	category = { particles }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier4weight1
	prerequisites = { "tech_gts_ftl_engine" }

	weight_modifier = {}
	ai_weight = {}
}

# 作戰電腦

tech_gts_computer = {

	# 專業化海軍教育

	cost = @tier3cost3
	area = society
	tier = 3
	category = { military_theory }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier3weight1
	potential = { has_ascension_perk = ap_space_gts }

	weight_modifier = {}
	ai_weight = {}
}

# 推進器

tech_gts_bare_feet = {

	# 足部防護-裸足

	cost = @tier2cost3
	area = engineering
	tier = 2
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier2weight1
	potential = { has_ascension_perk = ap_space_gts }

	weight_modifier = {}
	ai_weight = {}
}

tech_gts_black_stockings = {

	# 足部防護-黑絲

	cost = @tier3cost3
	area = engineering
	tier = 3
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier3weight1
	prerequisites = { tech_gts_bare_feet }

	weight_modifier = {}
	ai_weight = {}
}

tech_gts_white_stockings = {

	# 足部防護-白絲

	cost = @tier4cost3
	area = engineering
	tier = 4
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier4weight1
	prerequisites = { tech_gts_black_stockings }

	weight_modifier = {}
	ai_weight = {}
}

tech_gts_shoes = {

	# 足部防護-艦裝鞋

	cost = @tier5cost3
	area = engineering
	tier = 5
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier5weight1
	prerequisites = { tech_gts_white_stockings }

	weight_modifier = {}

	ai_weight = {}
}

# 部件

tech_gts_energy_blank = {

	#　後備太陽能板

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { field_manipulation }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_gts_mind_strengthen = {

	# 艦娘智慧強化

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { computing }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_gts_self_repair = {

	# 自恢復艦體

	cost = @tier3cost3
	area = society
	tier = 3
	category = { biology }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_gts_body_strengthen = {

	# 艦娘體能強化

	cost = @tier3cost3
	area = society
	tier = 3
	category = { industry }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_gts_bombing = {

	# 超高空轟炸策略

	cost = @tier3cost3
	area = society
	tier = 3
	category = { military_theory }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_gts_aid_repair = {

	# 體表損管小隊

	cost = @tier3cost3
	area = engineering
	tier = 3
	category = { industry }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_gts_beauty = {

	# 艦體美化

	cost = @tier3cost3
	area = engineering
	tier = 3
	category = { materials }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

# 裝甲

tech_armor_gts = {
	
	# 舰娘內衣工藝
	
	cost = @tier3cost3
	area = engineering
	tier = 3
	category = { materials }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier3weight1
	potential = { has_ascension_perk = ap_space_gts }

	weight_modifier = {}
	ai_weight = {}
}

tech_armor_gts_2 = {

	# 艦娘內衣工藝 - 安全褲

	cost = @tier4cost3
	area = engineering
	tier = 4
	category = { materials }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier4weight1
	prerequisites = { tech_armor_gts }

	weight_modifier = {}
	ai_weight = {}
}

tech_armor_gts_3 = {

	# 艦娘內衣工藝 - 蕾絲胖次

	cost = @tier5cost3
	area = engineering
	tier = 5
	category = { materials }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier5weight1
	prerequisites = { tech_armor_gts_2 }

	weight_modifier = {}
	ai_weight = {}
}

# 護盾

tech_shields_gts_1 = {
	
	# 艦娘校服工藝
	
	cost = @tier3cost3
	area = physics
	tier = 3
	category = { field_manipulation }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier3weight1
	potential = { has_ascension_perk = ap_space_gts }

	weight_modifier = {}
	ai_weight = {}
}

tech_shields_gts_2 = {
	
	# 艦娘校服工藝
	
	cost = @tier4cost3
	area = physics
	tier = 4
	category = { field_manipulation }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier4weight1
	prerequisites = { tech_shields_gts_1 }

	weight_modifier = {}
	ai_weight = {}
}

tech_shields_gts_3 = {
	
	# 艦娘婚紗工藝
	
	cost = @tier5cost3
	area = physics
	tier = 5
	category = { field_manipulation }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier5weight1
	prerequisites = { tech_shields_gts_2 }

	weight_modifier = {}
	ai_weight = {}
}

# 武器

tech_point_defence_gts_1 = {

	# 虔信者點防禦

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_flak_battery_gts_2 = {

	# 重型目力防空炮

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_amoeba_strike_craft_gts_1 = {

	# 北海轟炸機

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_amoeba_strike_craft_gts_2 = {

	# 流星戰鬥機

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_torpedoes_gts = {

	# 反艦刺雷

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_kinetic_artillery_gts_3 = {

	# 艦娘軌道巨炮

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_kinetic_artillery_gts_4 = {

	# 艦娘動能主炮

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_kinetic_artillery_gts_5 = {

	# 艦娘動能副炮

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { propulsion }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_plasma_gts = {

	# 能量汲取器

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { particles }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_lasers_gts = {

	# 人造雷射發射器

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { particles }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_scourge_missile_gts_1 = {

	# 生物腐蝕戰劑

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { particles }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_scourge_missile_gts_2 = {

	# 生物電弧發射器

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { particles }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_energy_lance_gts_1 = {

	# 快子薙刀

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { particles }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_energy_lance_gts_2 = {

	# 中子手榴彈

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { particles }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_gts_fist = {

	# 給你一拳！

	cost = @tier3cost3
	area = physics
	tier = 3
	category = { particles }
	ai_update_type = all
	is_reverse_engineerable = no
	weight = 0

	weight_modifier = {}

	ai_weight = {
		factor = @ai_ship_types_factor
	}
}

tech_pk_gts_shrink = {

	# 艦載縮小激素製造器

	cost = @tier5cost3
	area = society
	tier = 5
	category = { biology }
	ai_update_type = all
	is_reverse_engineerable = no
	is_rare = yes
	is_dangerous = yes
	weight = @tier5weight1
	prerequisites = { tech_colossus }

	potential = {
		host_has_dlc = "Apocalypse"
		has_country_flag = colossus_project
		# has_ascension_perk = ap_gts_colossus
	}

	weight_modifier = {}
	ai_weight = {}
}

###科技需要处理体型，按已有的flag处理呗
# 巨娘方
tech_gts_shrink_man_hormone_1 = {
	#实验性缩小激素
	cost = @tier1cost1
	area = society
	tier = 1
	category = {
		biology
	}
	prerequisites = {
		"tech_planetary_government"
	}
	weight = @tier1weight1
	potential = {
		has_country_flag = gts_flag
	}
	modifier = {
		planet_researchers_society_research_produces_mult = 0.05
		show_only_custom_tooltip = no		#不止显示custom_tooltip
		custom_tooltip = tech_gts_shrink_hormone_1_effect		#解锁一系列小人生产与消耗建筑以及相关政策
	}
	weight_modifier = {
		factor = 3
	}
	ai_weight = {
		factor = @capital_tech_ai_factor
		modifier = {
			factor = 1.25
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_authoritarian
		}
	}
}

tech_gts_shrink_man_hormone_2 = {
	#微生物社会学
	cost = @tier2cost1
	area = society
	tier = 2
	category = {
		statecraft
	}
	prerequisites = {
		"tech_gts_shrink_man_hormone_1"
	}
	weight = @tier2weight1
	potential = {
		has_country_flag = gts_flag
	}
	modifier = {
		planet_jobs_society_research_produces_mult = 0.1
		show_only_custom_tooltip = no		#不止显示custom_tooltip
		custom_tooltip = tech_gts_shrink_hormone_2_effect		#解锁一系列小人生产与消耗建筑以及相关政策
	}
	weight_modifier = {
		factor = 3
	}
	ai_weight = {
		factor = @capital_tech_ai_factor
		modifier = {
			factor = 1.25
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_authoritarian
		}
	}
}

tech_gts_shrink_man_hormone_3 = {
	#微生物塑成
	cost = @tier3cost1
	area = society
	tier = 3
	category = {
		biology
	}
	prerequisites = {
		"tech_gts_shrink_man_hormone_2"
	}
	weight = @tier3weight1
	potential = {
		has_country_flag = gts_flag
	}
	modifier = {
		planet_jobs_society_research_produces_mult = 0.15
		show_only_custom_tooltip = no		#不止显示custom_tooltip
		custom_tooltip = tech_gts_shrink_hormone_3_effect		#解锁一系列小人生产与消耗建筑以及相关政策
	}
	weight_modifier = {
		factor = 3
	}
	ai_weight = {
		factor = @capital_tech_ai_factor
		modifier = {
			factor = 1.25
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_authoritarian
		}
	}
}

tech_gts_shrink_city_hormone = {
	#稳定缩小激素
	cost = @tier3cost1
	area = society
	tier = 3
	category = {
		biology
	}
	prerequisites = {
		"tech_gts_shrink_man_hormone_1"
	}
	weight = @tier3weight1
	potential = {
		has_country_flag = gts_flag
	}
	modifier = {
		planet_jobs_society_research_produces_mult = 0.05
		show_only_custom_tooltip = no		#不止显示custom_tooltip
		custom_tooltip = tech_gts_shrink_hormone_city_effect		#解锁一系列小人生产与消耗建筑以及相关政策
	}
	weight_modifier = {
		factor = 3
	}
	ai_weight = {
		factor = @capital_tech_ai_factor
		modifier = {
			factor = 1.25
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_authoritarian
		}
	}
}

tech_gts_shrink_planet_hormone = {
	#强效缩小激素
	cost = @tier4cost1
	area = society
	tier = 4
	category = {
		biology
	}
	prerequisites = {
		"tech_gts_shrink_city_hormone"
	}
	weight = @tier4weight1
	potential = {
		has_country_flag = gts_flag
	}
	modifier = {
		planet_jobs_society_research_produces_mult = 0.1
		show_only_custom_tooltip = no		#不止显示custom_tooltip
		custom_tooltip = tech_gts_shrink_hormone_planet_effect		#解锁一系列小人生产与消耗建筑以及相关政策
	}
	weight_modifier = {
		factor = 3
	}
	ai_weight = {
		factor = @capital_tech_ai_factor
		modifier = {
			factor = 1.25
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_authoritarian
		}
	}
}

# 小人方
tech_giantess_fluid_1 = {
	#巨娘体液收集理论
	cost = @tier1cost1
	area = society
	tier = 1
	category = {
		biology
	}
	prerequisites = {
		"tech_planetary_government"
	}
	weight = @tier1weight1
	potential = {
		has_country_flag = tiny_flag
	}
	modifier = {
		planet_researchers_society_research_produces_mult = 0.05
		show_only_custom_tooltip = no		#不止显示custom_tooltip
		custom_tooltip = tech_giantess_fluid_1_effect
	}
	weight_modifier = {
		factor = 3
	}
	ai_weight = {
		factor = @capital_tech_ai_factor
		modifier = {
			factor = 1.25
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_authoritarian
		}
	}
}

tech_giantess_fluid_2 = {
	#巨娘体液加工理论
	cost = @tier2cost1
	area = society
	tier = 2
	category = {
		biology
	}
	prerequisites = {
		"tech_giantess_fluid_1"
	}
	weight = @tier2weight1
	potential = {
		has_country_flag = tiny_flag
	}
	modifier = {
		planet_jobs_society_research_produces_mult = 0.05
		show_only_custom_tooltip = no		#不止显示custom_tooltip
		custom_tooltip = tech_giantess_fluid_2_effect
	}
	weight_modifier = {
		factor = 3
	}
	ai_weight = {
		factor = @capital_tech_ai_factor
		modifier = {
			factor = 1.25
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_authoritarian
		}
	}
}

tech_giantess_fluid_3 = {
	#巨娘体液精炼理论
	cost = @tier3cost1
	area = society
	tier = 3
	category = {
		biology
	}
	prerequisites = {
		"tech_giantess_fluid_2"
	}
	weight = @tier3weight1
	potential = {
		has_country_flag = tiny_flag
	}
	modifier = {
		planet_jobs_society_research_produces_mult = 0.05
		show_only_custom_tooltip = no		#不止显示custom_tooltip
		custom_tooltip = tech_giantess_fluid_3_effect
	}
	weight_modifier = {
		factor = 3
	}
	ai_weight = {
		factor = @capital_tech_ai_factor
		modifier = {
			factor = 1.25
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_authoritarian
		}
	}
}

tech_gts_giantess_underwear = {
	#巨娘内衣物流学
	cost = @tier2cost3
	area = society
	tier = 2
	category = {
		statecraft
	}
	prerequisites = {
		"tech_giantess_fluid_1"
	}
	weight = @tier3weight1
	potential = {
		has_country_flag = tiny_flag
	}
	modifier = {
		planet_jobs_society_research_produces_mult = 0.1
		show_only_custom_tooltip = no		#不止显示custom_tooltip
		custom_tooltip = tech_gts_giantess_underwear_effect
	}
	weight_modifier = {
		factor = 3
	}
	ai_weight = {
		factor = @capital_tech_ai_factor
		modifier = {
			factor = 1.25
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_authoritarian
		}
	}
}

tech_gts_giantess_human = {
	#巨娘外交学
	cost = @tier3cost3
	area = society
	tier = 3
	category = {
		statecraft
	}
	prerequisites = {
		"tech_gts_giantess_underwear"
	}
	weight = @tier4weight1
	potential = {
		has_country_flag = tiny_flag
	}
	modifier = {
		planet_jobs_society_research_produces_mult = 0.1
		show_only_custom_tooltip = no		#不止显示custom_tooltip
		custom_tooltip = tech_gts_giantess_human_effect
	}
	weight_modifier = {
		factor = 3
	}
	ai_weight = {
		factor = @capital_tech_ai_factor
		modifier = {
			factor = 1.25
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_authoritarian
		}
	}
}

# 星球改造
tech_gts_juice_colonies = {
	# 爱液星球
	cost = @tier2cost3
	area = society
	tier = 3
	category = { statecraft }
	is_rare = yes
	prerequisites = { "tech_artificial_moral_codes" }
	weight = @tier2weight3

	potential = {
		has_ascension_perk = ap_gts_planet
	}
	modifier = {
		#pc_gts_juice_habitability = 1
	}

	weight_modifier = {
		factor = 10
	}

	ai_weight = {}
}

tech_gts_milk_colonies = {
	# 乳汁星球
	cost = @tier2cost3
	area = society
	tier = 3
	category = { statecraft }
	is_rare = yes
	weight = @tier2weight3

	potential = {
		has_ascension_perk = ap_gts_planet
	}
	modifier = {
		#pc_gts_milk_habitability = 1
	}

	weight_modifier = {
		factor = 10
	}

	ai_weight = {}
}

tech_gts_semen_colonies = {
	# 精液星球
	cost = @tier2cost3
	area = society
	tier = 3
	category = { statecraft }
	is_rare = yes
	weight = @tier2weight3

	potential = {
		has_ascension_perk = ap_gts_planet
	}
	modifier = {
		#pc_gts_semen_habitability = 1
	}

	weight_modifier = {
		factor = 10
		modifier = {
			factor = 0
			NOT = {
				has_country_flag = can_trigger_futa_content
			}
		}
	}

	ai_weight = {}
}

tech_gts_shit_colonies = {
	# 粪便星球
	cost = @tier2cost3
	area = society
	tier = 3
	category = { statecraft }
	is_rare = yes
	weight = @tier2weight3

	potential = {
		has_ascension_perk = ap_gts_planet
	}
	modifier = {
		#pc_gts_shit_habitability = 1
	}

	weight_modifier = {
		factor = 10
		modifier = {
			factor = 0
			NOT = {
				has_country_flag = can_trigger_scat_content
			}
		}
	}

	ai_weight = {}
}

tech_gts_dirt_colonies = {
	# 足垢星球
	cost = @tier2cost3
	area = society
	tier = 3
	category = { statecraft }
	is_rare = yes
	weight = @tier2weight3
	potential = {
		has_ascension_perk = ap_gts_planet
	}
	modifier = {
		#pc_gts_dirt_habitability = 1
	}

	weight_modifier = {
		factor = 10
	}

	ai_weight = {}
}


tech_gts_microcity = {
	cost = @tier4cost2
	area = engineering
	tier = 4
	category = { industry }
	weight = @tier4weight2
    icon = tech_xeno_zoo
	modifier = {
		pop_housing_usage_mult  = -0.1
		country_resource_max_add = 10000
	}
	weight_modifier = {
		factor = 4
	}
}

tech_gts_shrinking_hormone = {
	cost = @tier4cost2
	area = society
	tier = 4
	category = { biology }
	weight = @tier4weight2

	modifier = {
		pop_happiness = 0.05
		planet_crime_mult = -0.1
		army_damage_mult = 0.25
	}
	icon = tech_gene_tailoring
	weight_modifier = {
		factor = 4
	}
}

# 先科研
tech_gts_advanced_technology_research_institute = {
	cost = @tier5cost1
	area = engineering
	tier = 5
	category = { industry }
	weight = @tier5weight1

	modifier = {
		all_technology_research_speed = 0.05
	}
	weight_modifier = {
		factor = 10
		modifier = {
			factor = 0
			NOT = {
				has_country_flag = gts_has_trigger_xiankeyan
			}
		}
	}

}

tech_gts_shrinking_extermination = { 
	cost = @tier4cost1
	area = society
	tier = 4
	category = { biology }
	weight = @tier4weight1

	modifier = {
		planet_crime_add = -10
	}

	weight_modifier = {
		factor = 4
	}
}

tech_gts_size_affecting_device = {

	# 體型縮放器

	icon = tech_cloning

	cost = @tier5cost3
	area = society
	tier = 5
	category = { biology }
	ai_update_type = all
	is_rare = yes
	weight = @tier5weight3

	prerequisites = { tech_gts_advanced_technology_research_institute }

	modifier = {
		custom_tooltip = tech_gts_size_affecting_device_effect
		modify_species_cost_mult = -0.20
	}

	weight_modifier = {}
	ai_weight = {}
}

tech_gts_micro_corps = {
	cost = @tier3cost1
	area = society
	tier = 3
	category = { biology }
	prerequisites = { "tech_industrial_farming" "tech_gts_shrinking_hormone" }
	weight = @tier3weight1

	modifier = {
		planet_farmers_food_produces_mult = 0.25
		starbase_constructions_food_produces_mult = 0.25
	}
    icon = tech_climate_restoration
	weight_modifier = {
		modifier = {
			factor = 0.01
			OR = {
				is_machine_empire = yes
				is_lithoid_empire = yes
			}
			NOR = {
				has_country_flag = non_lithoid_subspecies
				has_valid_civic = civic_machine_servitor
				has_valid_civic = civic_machine_assimilator
				any_owned_planet = {
					OR = {
						num_districts = { type = district_farming value > 0 }
						num_districts = { type = district_rw_farming value > 0 }
					}
				}
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				is_machine_empire = yes
				is_lithoid_empire = yes
			}
		}
		modifier = {
			factor = 1.25
			has_ethic = ethic_pacifist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_pacifist
		}
		modifier = {
			factor = 2
			has_relic = r_pox_sample
		}
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Tall
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Giant
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Titan
			}
		}
	}
}


tech_gts_hydroponics = {
	cost = @tier1cost1
	area = society
	tier = 1
	category = { biology }
	prerequisites = { "tech_industrial_farming" "tech_gts_micro_corps" }
	weight = @tier1weight1

	modifier = {
		planet_farmers_food_produces_mult = 0.25
		starbase_constructions_food_produces_mult = 0.15
		pop_happiness = 0.05
		planet_stability_add = 5
	}

	weight_modifier = {
		factor = 2
		modifier = {
			factor = 0.01
			OR = {
				is_machine_empire = yes
				is_lithoid_empire = yes
			}
			NOR = {
				has_country_flag = non_lithoid_subspecies
				has_valid_civic = civic_machine_servitor
				has_valid_civic = civic_machine_assimilator
				any_owned_planet = {
					OR = {
						num_districts = { type = district_farming value > 0 }
						num_districts = { type = district_rw_farming value > 0 }
					}
				}
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				is_machine_empire = yes
				is_lithoid_empire = yes
			}
		}
		modifier = {
			factor = 2
			has_relic = r_pox_sample
		}
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Tall
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Giant
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Titan
			}
		}
	}	
}

# 小人保护者
tech_gts_autorization_for_live = {
	cost = @tier3cost1
	area = society
	tier = 3
	category = { biology }
	prerequisites = { "tech_gts_size_affecting_device"  }
	weight = @tier3weight1
	potential = { #可见
		has_civic = civic_gts_servitor
	}
	
	modifier = {
		pop_happiness = 0.05
		pop_housing_usage_mult = -0.1
	}

	weight_modifier = {
		modifier = {
			factor = 2
			has_relic = r_pox_sample
		}
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Tall
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Giant
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Titan
			}
		}
	}

}

tech_gts_autorization_for_jail = {
	cost = @tier3cost1
	area = society
	tier = 3
	category = { biology }
	prerequisites = { "tech_gts_autorization_for_live"  }
	weight = @tier3weight1
	potential = { #可见
		has_civic = civic_gts_servitor
	}
	
	modifier = {
		pop_happiness = 0.05
		planet_crime_add = -0.05
	}

	weight_modifier = {
		modifier = {
			factor = 2
			has_relic = r_pox_sample
		}
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Tall
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Giant
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Titan
			}
		}
	}

}

# 小人保护者不可见
tech_gts_combined_computer = {
	cost = @tier4cost2
	tier = 4
	area = physics
	category = { computing }
	weight = @tier4weight1
	potential = {
		host_has_dlc = Apocalypse
		OR = { 
			has_origin = origin_Luanzi
			has_origin = origin_parasitic_robot
			has_origin = origin_Aya
			has_origin = origin_Jiju
			has_origin = origin_Qianxin
			has_origin = origin_gts_fallout
			has_origin = origin_gts_subterranean
			has_origin = origin_annihilator

		}
		NOT = {
			has_civic = civic_gts_servitor
		}
	}

	modifier = {
		all_technology_research_speed = 0.05
	}

	weight_modifier = {
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Tall
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Giant
			}
		}
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Titan
			}
		}
	}
}

# 小人保护者不可见
tech_gts_tinyman_computer = {
	cost = @tier5cost2
	tier = 5
	area = physics
	category = { computing }
	weight = @tier5weight2
	prerequisites = {
		"tech_gts_combined_computer"
	}
	potential = {
		host_has_dlc = Apocalypse
		OR = { 
			has_origin = origin_Luanzi
			has_origin = origin_parasitic_robot
			has_origin = origin_Aya
			has_origin = origin_Jiju
			has_origin = origin_Qianxin
			has_origin = origin_gts_fallout
			has_origin = origin_gts_subterranean
			has_origin = origin_annihilator

		}
		NOT = {
			has_civic = civic_gts_servitor
		}
	}
	modifier = {
		all_technology_research_speed = 0.05

	}

	weight_modifier = {
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Tall
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Giant
			}
		}
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Titan
			}
		}
	}
}

# 巨娘用
tech_gts_mass_cleaning_service = {
	cost = @tier2cost2
	tier = 2
	area = engineering
	category = { industry }
	weight = @tier2cost2
	prerequisites = { "tech_mountain_range" "tech_volcano" "tech_dangerous_wildlife" "tech_dense_jungle" "tech_quicksand_basin" "tech_noxious_swamp" "tech_massive_glacier" "tech_toxic_kelp" "tech_deep_sinkhole"
	}
	
	potential = {
		OR = {
			has_trait = trait_Titan
			has_trait = trait_Giant
			has_trait = trait_Tall
		}
	}

	modifier = {
		deposit_blockers_cost_mult = -0.33
	}

	weight_modifier = {
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Tall
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Giant
			}
		}
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Titan
			}
		}
		modifier = {
			factor = 2
			has_civic = civic_gts_servitor
		}
		modifier = {
			factor = 2
			has_civic = civic_gts_assimilator
		}
	}
}

tech_gts_habitant = {

	icon = tech_glandular_acclimation
	cost = @tier1cost1
	tier = 1
	area = society
	category = {　new_worlds}
	weight = @tier1weight1
	prerequisites = { "tech_mountain_range" "tech_volcano" "tech_dangerous_wildlife" "tech_dense_jungle" "tech_quicksand_basin" "tech_noxious_swamp" "tech_massive_glacier" "tech_toxic_kelp" "tech_deep_sinkhole" }

	modifier = {
		habitability_ceil_add = 0.05
		habitability_floor_add = 0.05
	}

	weight_modifier = {
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Tall
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Giant
			}
		}
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Titan
			}
		}
		modifier = {
			factor = 2
			has_civic = civic_gts_servitor
		}
		modifier = {
			factor = 3
			species = {
				num_galaxy_systems >= 8
			}
		}
	}
}

# 小人清除者
tech_gts_authoritic_government = {
	cost = @tier3cost1
	area = society
	tier = 3
	category = { biology }
	prerequisites = { "tech_gts_microcity" "tech_gts_shrinking_hormone"  }
	weight = @tier3weight1
	potential = { #可见
		has_civic = civic_gts_terminator
	}
	
	modifier = {
		pop_happiness = 0.05
		damage_vs_country_type_rebel_mult = 0.25
	}

	weight_modifier = {
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Tall
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Giant
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Titan
			}
		}
	}

}

# 舰娘改造
tech_gts_titan_modifying = {
	cost = @tier5cost2
	area = engineering
	tier = 5
	category = { propulsion }
	prerequisites = { "tech_gts_titan_ship" }
	is_rare = yes
	weight = @tier5weight2
	potential = { #可见
		exists = owner  #存在
		owner = { has_technology = tech_gts_titan_ship }
	}
	modifier = {
		ship_experience_gain_mult = 0.25
		ship_emergency_ftl_min_days_mult = -0.25
		ships_upkeep_mult = -0.1
	}

	weight_modifier = {
		modifier = {
			factor = 1.5
			species = {
				has_trait = trait_Tall
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Giant
			}
		}
		modifier = {
			factor = 2
			species = {
				has_trait = trait_Titan
			}
		}
		modifier = {
			factor = 10
			has_civic = civic_gts_terminator
		}
	}
}

#足垢星球宜居
tech_gts_dirt_habitability1 = {
	cost = @tier3cost1
	area = society
	tier = 1
	category = { new_worlds }
	is_rare = yes
	weight =  2000
	potential = {
		any_owned_planet = {
			OR = {
				is_planet_class = pc_gts_dirt0
				is_planet_class = pc_gts_dirt2
				is_planet_class = pc_gts_dirt3
				is_planet_class = pc_gts_dirt4
			}
		}
	}

	modifier = {
		pc_gts_dirt0_habitability = 0.1
		pc_gts_dirt1_habitability = 0.2
		pc_gts_dirt2_habitability = 0.05
		pc_gts_dirt3_habitability = 0.05
		pc_gts_dirt3_habitability = 0.05
	}
}

tech_gts_dirt_habitability2 = {
	cost = @tier3cost1
	area = society
	tier = 2
	category = { new_worlds }
	is_rare = yes
	prerequisites = { "tech_gts_dirt_habitability1" }
	weight =  2000
	potential = {
		any_owned_planet = {
			OR = {
				is_planet_class = pc_gts_dirt0
				is_planet_class = pc_gts_dirt2
				is_planet_class = pc_gts_dirt3
				is_planet_class = pc_gts_dirt4
			}
		}
	}

	modifier = {
		pc_gts_dirt0_habitability = 0.15
		pc_gts_dirt1_habitability = 0.3
		pc_gts_dirt2_habitability = 0.1
		pc_gts_dirt3_habitability = 0.1
		pc_gts_dirt3_habitability = 0.1
	}
}

tech_gts_purge_secret = { #私人玩具
	cost = @tier3cost1
	area = society
	tier = 3
	category = { statecraft }
	is_rare = yes
	is_dangerous = yes
	weight =  1000
	potential = {
		any_owned_pop_group = {
			gts_is_giantess = yes
		}
	}

	modifier = {
		custom_tooltip = tech_gts_purge_secret_effect
	}
}

# 洛蒂鞋子宜居
tech_gts_lottie_habitability1 = { #洛蒂鞋子宜居1
	cost = @tier3cost1
	area = society
	tier = 2
	category = { new_worlds }
	is_rare = yes
	weight =  2000
	potential = {
		any_owned_planet = {
			is_planet_class = pc_lottie_shoes
		}
	}

	modifier = {
		pc_lottie_shoes_habitability = 0.5
	}
}

tech_gts_lottie_habitability2 = { #洛蒂鞋子宜居2
	cost = @tier3cost1
	area = society
	tier = 3
	category = { new_worlds }
	is_rare = yes
	prerequisites = { "tech_gts_lottie_habitability1" }
	weight =  2000
	potential = {
		any_owned_planet = {
			is_planet_class = pc_lottie_shoes
		}
	}

	modifier = {
		pc_lottie_shoes_habitability = 0.5
		custom_tooltip = tech_gts_lottie_habitability2_effect
	}
}