gts_anomaly_zero_category = {
	should_ai_use = no	#ai会刷到
	desc = "gts_anomaly_1_category_desc"	#本地化
	picture = GFX_gtsra_load_5
	level = 6	#调查难度
	max_once = yes	#只生成一次
	spawn_chance = {
		# 异常现象生成概率
		modifier = {
			# 生成概率的修正
			add = 50
			OR = {
				is_planet_class = pc_barren				#是荒芜星球
				is_planet_class = pc_barren_cold
			}
		}
		# 没有远古巨大少女事件链时不会刷出来，下同
		modifier = {
			factor = 0
			NOT = {
				from.owner = {
					has_event_chain = gts_chain
				}
			}
		}
	}
	on_success = gts_evt_ancient.90	#100%触发该事件
}

gts_anomaly_first_category = {
	should_ai_use = no
	desc = "gts_anomaly_1_category_desc"
	picture = GFX_load_35
	level = 6	#难度
	max_once = yes	#只生成一次
	spawn_chance = {
		# 异常事件生成概率
		modifier = {
			# 生成概率的修正
			add = 50
			OR = {
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
			}
		}
		modifier = {
			factor = 0
			NOT = {
				from.owner = {
					has_event_chain = gts_chain
				}
			}
		}
	}
	on_success = gts_evt_ancient.10	#100%触发该事件
}

gts_anomaly_second_category = {
	should_ai_use = no
	desc = "gts_anomaly_1_category_desc"
	picture = GFX_load_45
	level = 6	#难度
	max_once = yes	#只生成一次
	spawn_chance = {
		# 异常事件生成概率
		modifier = {
			# 生成概率的修正
			add = 50
			OR = {
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
			}
		}
		modifier = {
			factor = 0
			NOT = {
				from.owner = {
					has_event_chain = gts_chain
				}
			}
		}
	}
	on_success = gts_evt_ancient.20	#100%触发该事件
}

gts_anomaly_third_category = {
	should_ai_use = no
	desc = "gts_anomaly_1_category_desc"
	picture = GFX_evt_archaeological_dig
	level = 6	#难度
	max_once = yes	#只生成一次
	spawn_chance = {
		# 异常事件生成概率
		modifier = {
			# 生成概率的修正
			add = 50
			OR = {
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
			}
		}
		modifier = {
			factor = 0
			NOT = {
				from.owner = {
					has_event_chain = gts_chain
				}
			}
		}
	}
	on_success = gts_evt_ancient.30	#100%触发该事件
}

gts_anomaly_forth_category = {
	should_ai_use = no
	desc = "gts_anomaly_1_category_desc"
	picture = GFX_evt_archaeological_dig
	level = 6	#难度
	max_once = yes	#只生成一次
	spawn_chance = {
		# 异常事件生成概率
		modifier = {
			# 生成概率的修正
			add = 50
			OR = {
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
			}
		}
		modifier = {
			factor = 0
			NOT = {
				from.owner = {
					has_event_chain = gts_chain
				}
			}
		}
	}
	on_success = gts_evt_ancient.40	#100%触发该事件
}

gts_anomaly_fifth_category = {
	should_ai_use = no
	desc = "gts_anomaly_1_category_desc"
	picture = GFX_evt_archaeological_dig
	level = 6	#难度
	max_once = yes	#只生成一次
	spawn_chance = {
		# 异常事件生成概率
		modifier = {
			# 生成概率的修正
			add = 50
			OR = {
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
			}
		}
		modifier = {
			factor = 0
			NOT = {
				from.owner = {
					has_event_chain = gts_chain
				}
			}
		}
	}
	on_success = gts_evt_ancient.50	#100%触发该事件
}

gts_anomaly_sixth_category = {
	should_ai_use = no
	desc = "gts_anomaly_1_category_desc"
	picture = GFX_evt_asteroid_approaching_planet
	level = 6	#难度
	max_once = yes	#只生成一次
	spawn_chance = {
		# 异常事件生成概率
		modifier = {
			# 生成概率的修正
			add = 50
			OR = {
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
			}
		}
		modifier = {
			factor = 0
			NOT = {
				from.owner = {
					has_event_chain = gts_chain
				}
			}
		}
	}
	on_success = gts_evt_ancient.60	#100%触发该事件
}

gts_anomaly_seventh_category = {
	should_ai_use = no
	desc = "gts_anomaly_1_category_desc"
	picture = GFX_evt_shrouded_planet
	level = 6	#难度
	max_once = yes	#只生成一次
	spawn_chance = {
		# 异常事件生成概率
		modifier = {
			# 生成概率的修正
			add = 50
			OR = {
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
			}
		}
		modifier = {
			factor = 0
			NOT = {
				from.owner = {
					has_event_chain = gts_chain
				}
			}
		}
	}
	on_success = gts_evt_ancient.70	#100%触发该事件
}

gts_anomaly_eighth_category = {
	#巴奥
	should_ai_use = no
	desc = "gts_anomaly_1_category_desc"
	picture = GFX_evt_baol_grunur
	level = 6	#难度
	max_once = yes	#只生成一次
	spawn_chance = {
		# 异常事件生成概率
		modifier = {
			# 生成概率的修正
			add = 50
			OR = {
				is_planet_class = pc_barren
			}
		}
		modifier = {
			factor = 0
			NOT = {
				from.owner = {
					has_event_chain = gts_chain
				}
			}
		}
	}
	on_success = gts_evt_ancient.80	#100%触发该事件
}

gts_anomaly_foot_category = {
	should_ai_use = no
	desc = "gts_anomaly_foot_category_desc"
	picture = GFX_evt_desert
	level = 3	#难度
	max_once = yes	#只生成一次
	spawn_chance = {
		# 异常事件生成概率
		base = 0
		modifier = {
			# 生成概率的修正
			add = 500
			OR = {
				is_planet_class = pc_barren
			}
		}
	}
	on_success = gts_evt_footprint.1	#100%触发该事件
}

gts_anomaly_ww1_category = {
	#一战
	should_ai_use = no
	desc = "gts_anomaly_ww1_category_desc"
	picture = GFX_evt_unspeakable_horror
	level = 3	#难度
	max_once = yes	#只生成一次
	spawn_chance = {
		# 异常事件生成概率
		base = 0
		modifier = {
			# 生成概率的修正
			add = 5000
			OR = {
				is_planet_class = pc_tropical
				is_planet_class = pc_continental
				is_planet_class = pc_ocean
			}
		}
	}
	on_success = gts_evt_ww.1	#100%触发该事件
}

gts_yintao_category = {
	# 神秘易拉罐 
	desc = "gts_yintao_category_desc"
	should_ai_use = no
	max_once = yes
	spawn_chance = {
		base = 1
	}
	picture = GFX_gts_event_28
	level = 3
	on_success = gts_evt_random.060000
}

gts_breast_category = {
	#乳腺
	desc = "gts_breast_category_desc"
	picture = GFX_evt_ocean
	level = 3	#难度
	on_success = gts_evt_breast.2	#100%触发该事件
}

gts_inner_world_category = {
	#星盘
	desc = "gts_inner_world_desc"
	picture = GFX_evt_desert
	level = 5	#难度
	on_success = gts_evt_inner_world.1	#100%触发该事件
}

gts_ring_world_category = {
	#趾环
	desc = "gts_ring_world_category_desc"
	picture = GFX_evt_desert
	level = 5	#难度
	on_success = gts_evt_rim.1	#100%触发该事件
}

gts_end_habitat_category = {
	#终末观测站
	desc = "gts_end_habitat_category_desc"
	picture = GFX_evt_unspeakable_horror
	level = 10	#难度
	on_success = gts_evt_ancient.101	#100%触发该事件
}

gts_eyjafjalla_category = {
	#艾雅法拉
	desc = "gts_eyjafjalla_category_desc"
	picture = GFX_evt_ocean
	level = 4	#难度
	on_success = gts_eyjafjalla.26	#100%触发该事件
}

#发癫的小行星
gts_madness_planet_category = {
	should_ai_use = no
	desc = "gts_madness_planet_category_desc"
	picture = gts_skadi_potral.03
	level = 4
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 1
	}
	on_spawn = {
	}
	on_success = gts_evt_fadian.1
}

#大陆级别的痕迹
gts_continent_trail_category = {
	should_ai_use = no
	desc = "gts_continent_trail_category_desc"
	picture = GFX_evt_cold_barren
	level = 4
	max_once = yes
	spawn_chance = {
		factor = 3
	}
	on_spawn = {
	}
	on_success = gts_evt_fadian.3
}

# 一言堂考古前置异常事件
gts_anomaly_qhai = {
	should_ai_use = no
	desc = gts_anomaly_qhai_desc
	level = 1
	max_once = yes
	max_once_global = yes

	spawn_chance = {
		modifier = {
			add = 100
			OR = {
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
			}
		}
		# 存在遗迹时生成概率为0
		modifier = {
			factor = 0
			NOT = {
				exists = archaeological_site
			}
		}
	}

	on_success = gts_event_qhai.0
}

gts_hstar_anomaly_secret_research = {    #维纳的研究
	should_ai_use = no
	desc = "hstar_anomaly_D_category_desc"
	picture = GFX_evt_hstar_vena_namecard
	level = 6	#难度
	max_once = yes	#只生成一次
	spawn_chance = {
		base = 0
		# 异常事件生成概率
	}
	on_success = gts_hstar_anomaly.1	#100%触发该事件
}

gts_linglu = {
	should_ai_use = no
	desc = "gts_extension_anomaly_leader_linglu_desc"
	picture = GFX_evt_animal_wildlife
	level = 3
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
	}
	on_spawn = {
		root = {
			set_planet_size = 40
			change_pc = pc_savannah
			reroll_planet_modifiers = yes
			reroll_deposits = yes
			add_deposit = d_linglu_footprint
		}
	}
	on_success = gts_linglu.1
}

gts_lizhi = {
	should_ai_use = no
	desc = "gts_extension_anomaly_leader_lizhi_desc"
	picture = GFX_evt_black_hole
	level = 6
	max_once_global = yes
	spawn_chance = {
		base = 0
		#modifier = {
		#add = 1000
		#is_star = yes
		#NOR = {
		#is_star_class = sc_black_hole
		#}
		#}
	}
	on_success = gts_lizhi.1
}
gts_extension_leader_satori = {
	should_ai_use = no
	desc = "gts_extension_anomaly_leader_satori_desc"
	picture = GFX_evt_animal_wildlife
	level = 1
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
	}
	on_spawn = {
	}
	on_success = gts_satori.1
}

#替换
disco_impossible_organism_cat = {
	#不可能的微生物
	desc = "disco_impossible_organism_cat_desc"
	picture = "GFX_evt_toxic"
	level = 6
	max_once_global = yes
	null_spawn_chance = 0.1	#不生成的概率，概率从75%下调到了10%
	spawn_chance = {
		modifier = {
			add = 100
			is_planet_class = pc_toxic
		}
		modifier = {
			factor = 0
			from.owner = {
				OR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
					has_civic = civic_machine_terminator
					has_authority = auth_hive_mind
				}
			}
		}
	}
	on_success = distar.3010
}

SINGING_PLANET_CAT = {
	desc = "SINGING_PLANET_CAT_DESC"
	picture = GFX_evt_decryption
	level = 7
	null_spawn_chance = 0.1	#不生成的概率，概率从75%下调到了10%
	spawn_chance = {
		modifier = {
			add = 90
			OR = {
				is_planet_class = pc_frozen
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
				is_planet_class = pc_toxic
				is_planet_class = pc_broken
				is_planet_class = pc_gas_giant
				is_planet_class = pc_molten
			}
		}
	}
	max_once = yes
	on_spawn = {
		clear_deposits = yes
	}
	on_success = anomaly.7101
}

# gts_extension_anomaly_leader_yukikake = {
# 	should_ai_use = no
# 	desc = "gts_extension_anomaly_leader_yukikake_desc"
# 	picture = GFX_evt_ship_in_orbit
# 	level = 6	#难度
# 	# null_spawn_chance = 0
# 	max_once_global = yes	#只生成一次
# 	spawn_chance = {
# 		# 异常事件生成概率
# 		base = 0
# 		modifier = {
# 			# 生成概率的修正
# 			add = 1000
# 			from = {
# 				owner = {
# 					is_gestalt = no
# 				}
# 			}
# 			is_star = yes
# 			is_star_class = sc_black_hole
# 			has_planet_flag = gts_extension_anomaly_leader_yukikake_star_flag
# 		}
# 	}
# 	on_success = gts_extension_leader_yukikake.1	#100%触发该事件
# }
gtsra_aplog_anomaly = {
	desc = "gtsra_aplog_anomaly_desc"
	picture = GFX_gts_event_33
	level = 4
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
	}
	on_spawn = {
		prevent_anomaly = yes
	}
	on_success = gts_aplog.2
}

gts_tiantiao_anomaly = {
	desc = "gts_tiantiao_anomaly_desc"
	picture = GFX_load_84
	level = 4
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
	}
	on_spawn = {
		prevent_anomaly = yes
	}
	on_success = gts_tiantiao.2
}

gts_mari_anomaly = {
	desc = "gts_mari_anomaly_desc"
	picture = GFX_gts_mari_1
	level = 4
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
	}
	on_spawn = {
		prevent_anomaly = yes
	}
	on_success = gts_mari.2
}

gts_doctor_anomaly = {
	desc = "gts_doctor_anomaly_desc"
	picture = GFX_gts_doctor_1
	level = 4
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
	}
	on_spawn = {
		prevent_anomaly = yes
	}
	on_success = gts_doctor.2
}
gts_goldenglow_anomaly = {
	desc = "gts_goldenglow_anomaly_desc"
	picture = GFX_gts_goldenglow_1
	level = 4
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
	}
	on_spawn = {
		prevent_anomaly = yes
	}
	on_success = gts_goldenglow.2
}
gtsra_sleep_loli = {
	desc = "gtsra_sleep_loli_desc"
	picture = GFX_gtsra_sleep_loli
	level = 6
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
	}
	on_spawn = {
		prevent_anomaly = yes
		root = {
			save_global_event_target_as = gtsra_loli_world
			set_planet_flag = gts_body_planet
		}
	}
	on_success = gts_aurora.1029
}

gtsra_loli_surgery = {
	desc = "gtsra_loli_surgery_desc"
	picture = GFX_gtsra_aurora_4
	level = 8
	spawn_chance = {
		modifier = {
			add = 0
		}
	}
	on_success = gts_aurora.1061
}

gts_extension_anomaly_leader_fox = {
	should_ai_use = no
	desc = "gts_extension_anomaly_leader_fox_desc"
	picture = GFX_evt_black_hole
	level = 6	#难度
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
	}
	on_spawn = {
		prevent_anomaly = yes
	}
	on_success = gts_yiyan.1	#100%触发该事件
}
gts_traptirx_anomaly = {
	desc = "gts_traptirx_anomaly_desc"
	picture = GFX_gts_traptrix_4
	level = 4
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
	}
	on_spawn = {
		prevent_anomaly = yes
	}
	on_success = gts_traptrix.2
}

gts_tlipoca_anomaly = {
	desc = "gts_tlipoca_anomaly_desc"
	picture = GFX_load_68	#gts_tlipoca_anomaly_pic	#GFX_load_84
	level = 4
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
	}
	on_spawn = {
		prevent_anomaly = yes
	}
	on_success = gts_tlipoca.666
}

gts_bronya_add = {
	should_ai_use = no
	desc = "gts_bronya_add.desc"
	picture =  GFX_gts_seele_14
	level = 4
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		factor = 0
	}
	on_spawn = {
	}
	on_success = gts_seele.16
}
gts_xiaotu.fankang = {
	should_ai_use = no
	desc = "gts_xiaotu.fankang.desc"
	picture =  GFX_gts_seele_19
	level = 4
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		factor = 0
	}
	on_spawn = {
	}
	on_success = gts_seele.29
}
# 幸存者? apl专属异常(by 大橘
gts_aplog_anomaly = {
	should_ai_use = no
	desc = "gts_aplog_anomaly_desc"
	picture = GFX_gts_event_33
	level = 4
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		base = 0
		modifier = {
			add = 1000
			from = {
				owner = {
					any_owned_leader = {
						has_leader_flag = gts_aplog
					}
				}
			}
			is_colonizable = yes
		}
	}
	on_spawn = {
	}
	on_success = gts_aplog.1030
}
#希诺异常项目
gts_xinuo_anomaly = {
	desc = gts_xinuo_anomaly_desc
	picture = GFX_gts_xinuo_2
	level = 2
	max_once = yes

	spawn_chance = {
		base = 0
	}

	on_spawn = {

	}

	on_success = gts_xinuo.1
}
#土豆异常
gts_carlotta_anomaly = {
    desc = gts_carlotta_anomaly_desc
    picture = GFX_gts_carlotta_1
    level = 2
    max_once = yes

    spawn_chance = {
        base = 0
    }

    on_spawn = {

    }

    on_success = gts_carlotta.102
}

gts_firefly_transform = {
	should_ai_use = no
	desc = "gts_firefly_transform_desc"
	picture =  GFX_gts_firefly_1
	level = 2
	max_once = yes
	max_once_global = yes
	spawn_chance = {
		factor = 0
	}
	on_spawn = {
	}
	on_success = gts_firefly.11
}