can_destroy_planet_with_PLANET_KILLER_whaletrap = {
	custom_tooltip = {
		fail_text = is_not_a_habitable_planet_or_megastructure
		OR = {
			is_a_habitable_planet_megastructure = yes
			is_planet_class = pc_ai
		}
	}
	custom_tooltip = {
		fail_text = is_shielded
		NOR = {
			is_planet_class = pc_shielded
			is_planet_class = pc_ringworld_shielded
			is_planet_class = pc_habitat_shielded
		}
	}
	custom_tooltip = {
		fail_text = fotd_cant_collossus
		NOT = { has_planet_flag = fotd_seperatist_planet@from.owner }
		exists = from.owner
		from.owner = { 
			NOT = { has_country_flag = fotd_seperatist_country@from.owner }
		}
	}
	custom_tooltip = {
		#success_text = "is at war with player"
		fail_text = is_not_hostile_or_primitive
		OR = {
			planet_is_hostile = yes
			is_planet_class = pc_ai
			AND = {
				exists = owner
				owner = { is_country_type = primitive }
			}
			AND = {
				exists = owner
				owner = { is_same_value = from.owner }
			}
		}
	}
	custom_tooltip = {
		fail_text = skadi_is_loli_planet
		NOR = {
			has_planet_flag = gtsra_loli_planet
		}
	}
	custom_tooltip = {
		fail_text = skadi_is_used_planet
		is_gts_reformed_planet = no
	}
	#custom_tooltip = {
	#	fail_text = gts_bruh_colossus_destroy_planet_cool_down
	#	from.owner = {
	#		NOT = { has_country_flag = gts_bruh_colossus_destroy_planet_effect_cool_down }
	#	}
	#}
	if = {
		limit = {
			exists = owner
			owner = { is_country_type = primitive }
		}
		custom_tooltip = {
			fail_text = primitives_not_full_interference
			from.owner = {
				has_policy_flag = interference_aggressive
			}
		}
	}
	# target own colony
	if = {
		limit = {
			NOR = {
				planet_is_hostile = yes
				AND = {
					exists = owner
					owner = { is_country_type = primitive }
				}
			}
			exists = owner
			owner = {
				is_same_value = from.owner
			}
		}
		custom_tooltip = {
			text = not_owned_test_fire
			exists = owner
			owner = {
				is_same_value = from.owner
			}
		}
	}
}

can_destroy_planet_with_gts_research_star_killer = {
	custom_tooltip = {
		fail_text = is_your_megastructure_system
		NOT = {
			solar_system = {
				has_star_flag = crisis_sphere_system@from.owner
				any_system_megastructure = { has_megastructure_flag = crisis_sphere }
			}
		}
	}
	custom_tooltip = {
		OR = {
			is_planet_class = pc_barren
			is_planet_class = pc_barren_cold
			is_planet_class = pc_frozen
			is_planet_class = pc_molten
			is_planet_class = pc_toxic
			is_planet_class = pc_desert
			is_planet_class = pc_tropical
			is_planet_class = pc_arid
			is_planet_class = pc_continental
			is_planet_class = pc_ocean
			is_planet_class = pc_tundra
			is_planet_class = pc_arctic
			is_planet_class = pc_alpine
			is_planet_class = pc_savannah
			is_planet_class = pc_gaia
			is_planet_class = pc_relic
			is_planet_class = pc_nuked
			is_planet_class = pc_ringworld_habitable
			is_planet_class = pc_habitat
			is_planet_class = pc_city
			is_planet_class = pc_relic
			is_star = yes
		}
	}
	custom_tooltip = {
		fail_text = is_black_hole
		NOT = { is_planet_class = pc_black_hole }
	}
	custom_tooltip = {
		fail_text = star_owner_is_not_hostile
		OR = {
			NOT = { exists = space_owner }
			space_owner = { is_hostile = from.owner }
			space_owner = { is_same_value = from.owner }
		}
	}
}

can_destroy_planet_with_PLANET_KILLER_xinuotongue = {
    custom_tooltip = {
        fail_text = is_not_a_habitable_planet_or_megastructure
        OR = {
            is_a_habitable_planet_megastructure = yes
            is_planet_class = pc_ai
        }
    }
    custom_tooltip = {
        fail_text = is_shielded
        NOR = {
            is_planet_class = pc_shielded
            is_planet_class = pc_ringworld_shielded
            is_planet_class = pc_habitat_shielded
        }
    }
    custom_tooltip = {
        fail_text = pop_amount_lower_15000
        pop_amount >= 15000
    }
    custom_tooltip = {
        fail_text = is_not_friendly_planet
        exists = owner
        owner = {
            is_same_value = from.owner
        }
    }
    custom_tooltip = {
        fail_text = xinuo_is_full
        from.owner = {
            NOR = { has_country_flag = gts_xinuo_colossus_destroy_planet_effect_cool_down }
        }
    }
    #custom_tooltip = {
        #success_text = "is at war with player"
    #    fail_text = is_not_hostile_or_primitive
    #    OR = {
    #        planet_is_hostile = yes
    #        is_planet_class = pc_ai
    #        AND = {
    #            exists = owner
    #            owner = { is_country_type = primitive }
    #        }
    #        AND = {
    #            exists = owner
    #            owner = { is_same_value = from.owner }
    #        }
    #    }
    #}
}
