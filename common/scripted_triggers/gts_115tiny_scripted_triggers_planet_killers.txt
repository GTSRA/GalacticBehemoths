can_destroy_planet_with_gts_115tiny_PLANET_KILLER_STAR_CRACKER = {
    custom_tooltip = {
        fail_text = gts_115tiny_is_your_megastructure_system
        NOT = {
            solar_system = {
                has_star_flag = crisis_sphere_system@from.owner
                any_system_megastructure = { has_megastructure_flag = crisis_sphere }
            }
        }
    }
    custom_tooltip = {
        fail_text = is_not_star
        is_star = yes
    }
    custom_tooltip = {
        fail_text = is_black_hole
        NOT = { is_planet_class = pc_black_hole }
    }
    custom_tooltip = {
        fail_text = star_owner_is_not_hostile
        OR = {
            NOT = { exists = space_owner }
            space_owner = { is_hostile = from.owner }
            space_owner = { is_same_value = from.owner }
        }
    }
}
can_destroy_planet_with_gts_115_PLANET_KILLER_yarong1 = {
    custom_tooltip = {
        fail_text = is_not_a_habitable_planet_or_megastructure
        OR = {
            is_a_habitable_planet_megastructure = yes
            is_planet_class = pc_ai
        }
    }
    custom_tooltip = {
        fail_text = is_shielded
        NOR = {
            is_planet_class = pc_shielded
            is_planet_class = pc_ringworld_shielded
            is_planet_class = pc_habitat_shielded
        }
    }
    custom_tooltip = {
        fail_text = fotd_cant_collossus
        NOT = { has_planet_flag = fotd_seperatist_planet@from.owner }
        exists = from.owner
        from.owner = {
            NOT = { has_country_flag = fotd_seperatist_country@from.owner }
        }
    }
    custom_tooltip = {
        #success_text = "is at war with player"
        fail_text = is_not_hostile_or_primitive
        OR = {
            planet_is_hostile = yes
            is_planet_class = pc_ai
            AND = {
                exists = owner
                owner = { is_country_type = primitive }
            }
            AND = {
                exists = owner
                owner = { is_same_value = from.owner }
            }
        }
    }
    custom_tooltip = {
        fail_text = gts_yarong_is_loli_planet
        NOR = {
            has_planet_flag = gtsra_loli_planet
        }
    }
    if = {
        limit = {
            exists = owner
            owner = { is_country_type = primitive }
        }
        custom_tooltip = {
            fail_text = primitives_not_full_interference
            from.owner = {
                has_policy_flag = interference_aggressive
            }
        }
    }
    # target own colony
    if = {
        limit = {
            NOR = {
                planet_is_hostile = yes
                AND = {
                    exists = owner
                    owner = { is_country_type = primitive }
                }
            }
            exists = owner
            owner = {
                is_same_value = from.owner
            }
        }
        custom_tooltip = {
            text = not_owned_test_fire
            exists = owner
            owner = {
                is_same_value = from.owner
            }
        }
    }
}
can_destroy_planet_with_gts_115_PLANET_KILLER_yarong2 = {
    custom_tooltip = {
        fail_text = is_not_a_habitable_planet_or_megastructure
        OR = {
            is_a_habitable_planet_megastructure = yes
            is_planet_class = pc_ai
        }
    }
    custom_tooltip = {
        fail_text = is_shielded
        NOR = {
            is_planet_class = pc_shielded
            is_planet_class = pc_ringworld_shielded
            is_planet_class = pc_habitat_shielded
        }
    }
    custom_tooltip = {
        fail_text = fotd_cant_collossus
        NOT = { has_planet_flag = fotd_seperatist_planet@from.owner }
        exists = from.owner
        from.owner = {
            NOT = { has_country_flag = fotd_seperatist_country@from.owner }
        }
    }
    custom_tooltip = {
        #success_text = "is at war with player"
        fail_text = is_not_hostile_or_primitive
        OR = {
            planet_is_hostile = yes
            is_planet_class = pc_ai
            AND = {
                exists = owner
                owner = { is_country_type = primitive }
            }
            AND = {
                exists = owner
                owner = { is_same_value = from.owner }
            }
        }
    }
    custom_tooltip = {
        fail_text = gts_yarong_is_loli_planet
        NOR = {
            has_planet_flag = gtsra_loli_planet
        }
    }
    if = {
        limit = {
            exists = owner
            owner = { is_country_type = primitive }
        }
        custom_tooltip = {
            fail_text = primitives_not_full_interference
            from.owner = {
                has_policy_flag = interference_aggressive
            }
        }
    }
    # target own colony
    if = {
        limit = {
            NOR = {
                planet_is_hostile = yes
                AND = {
                    exists = owner
                    owner = { is_country_type = primitive }
                }
            }
            exists = owner
            owner = {
                is_same_value = from.owner
            }
        }
        custom_tooltip = {
            text = not_owned_test_fire
            exists = owner
            owner = {
                is_same_value = from.owner
            }
        }
    }
}


