pc_gts_juice_change_yarong = {
    set_planet_flag = gts_reformed_planet
    change_pc = pc_gts_juice
    set_colony_type = col_gts_juice
    validate_planet_buildings_and_districts = yes
    if = {
        limit = {
            root = {
                not = {
                    has_technology = tech_gts_bfbf_habitability_juiceandsemen
                }
            }
        }
        while = {
            count = 3
            add_deposit = d_juice_ruin1
            add_deposit = d_juice_ruin2
            add_deposit = d_juice_ruin4
            add_deposit = d_juice_ruin5
            add_deposit = d_juice_ruin6
        }
    }
    add_modifier = {
        modifier = gts_juice_colony_1
        days = -1
    }
    add_modifier = {
        modifier = gts_juice_colony_2
        days = -1
    }
    add_modifier = {
        modifier = gts_juice_colony_3
        days = -1
    }
    add_modifier = {
        modifier = atmospheric_aphrodisiac
        days = -1
    }
    add_deposit = d_juice_ruin3
    hidden_effect = {
        remove_building = building_colony_shelter
        remove_building = building_capital
        remove_building = building_major_capital
        remove_building = building_system_capital
        add_building = building_gts_juice_capital
    }
}
pc_gts_urine_change = {
    set_planet_flag = gts_reformed_planet
    change_pc = pc_gts_urine
    set_colony_type = col_gts_urine
    validate_planet_buildings_and_districts = yes
    add_modifier = {
        modifier = gts_urine_colony_1
        days = -1
    }
    add_modifier = {
        modifier = gts_urine_colony_2
        days = -1
    }
    add_modifier = {
        modifier = gts_urine_colony_3
        days = -1
    }
    add_modifier = {
        modifier = gts_urine_colony_4
        days = -1
    }
    add_deposit = d_urine_ruin1
    add_deposit = d_urine_ruin2
    add_deposit = d_urine_ruin4
    hidden_effect = {
        remove_building = building_colony_shelter
        remove_building = building_capital
        remove_building = building_major_capital
        remove_building = building_system_capital
        add_building = building_gts_urine_capital
    }
}
pc_gts_urine_change_yarong = {
    set_planet_flag = gts_reformed_planet
    change_pc = pc_gts_urine2
    set_colony_type = col_gts_urine
    validate_planet_buildings_and_districts = yes
    add_modifier = {
        modifier = gts_urine_colony_1
        days = -1
    }
    add_modifier = {
        modifier = gts_urine_colony_2
        days = -1
    }
    add_modifier = {
        modifier = gts_urine_colony_3
        days = -1
    }
    add_modifier = {
        modifier = gts_urine_colony_4
        days = -1
    }
    add_deposit = d_urine_ruin1
    add_deposit = d_urine_ruin3
    add_deposit = d_urine_ruin4
    hidden_effect = {
        remove_building = building_colony_shelter
        remove_building = building_capital
        remove_building = building_major_capital
        remove_building = building_system_capital
        add_building = building_gts_urine_capital
    }
}


#爱液星球改造
pc_gts_juice_change = {
	set_planet_flag = gts_reformed_planet
	change_pc = pc_gts_juice
	set_colony_type = col_gts_juice
	validate_planet_buildings_and_districts = yes

	add_modifier = {
		modifier = gts_juice_colony_1
		days = -1
	}
	add_modifier = {
		modifier = gts_juice_colony_2
		days = -1
	}
	add_modifier = {
		modifier = gts_juice_colony_3
		days = -1
	}
	add_modifier = {
		modifier = atmospheric_aphrodisiac
		days = -1
	}

	hidden_effect = {
		if = {
			limit = {
				root.owner = {
					not = {
						has_technology = tech_gts_bfbf_habitability_juiceandsemen
					}
				}
			}
			add_deposit = d_juice_ruin1
			add_deposit = d_juice_ruin2
			add_deposit = d_juice_ruin4
			add_deposit = d_juice_ruin5
			add_deposit = d_juice_ruin6
		}
		export_trigger_value_to_variable = {
			trigger = planet_size
			variable = gts_bruh_get_planet_size
		}
		set_variable_to_random_value = {
			which = gts_bruh_random_count
			min = 9
			max = gts_bruh_get_planet_size
		}
		while = {
			count = gts_bruh_random_count
			random_list = {
				1 = {
					add_deposit = d_juice_ruin4
				}
				1 = {
					add_deposit = d_juice_ruin5
				}
				1 = {
					add_deposit = d_juice_ruin6
				}
			}
		}
		add_deposit = d_juice_ruin1
		add_deposit = d_juice_ruin2
		add_deposit = d_juice_ruin3
		remove_building = building_colony_shelter
		remove_building = building_deployment_post

		remove_building = building_capital
		remove_building = building_hive_capital
		remove_building = building_machine_capital
		remove_building = building_resort_capital
		remove_building = building_slave_capital
		remove_building = building_ancient_control_center
		remove_building = building_ancient_palace
		remove_building = building_capital_wilderness

		remove_building = building_major_capital
		remove_building = building_hive_major_capital
		remove_building = building_machine_major_capital
		remove_building = building_resort_major_capital
		remove_building = building_slave_major_capital
		remove_building = building_major_capital_wilderness

		remove_building = building_system_capital
		remove_building = building_machine_system_capital
		remove_building = building_system_capital_wilderness
		add_building = building_gts_bruh_juice_colony_shelter
	}
}

# 乳汁星球改造
pc_gts_milk_change = {
	set_planet_flag = gts_reformed_planet
	change_pc = pc_gts_milk
	set_colony_type = col_gts_milk
	validate_planet_buildings_and_districts = yes

	add_modifier = {
		modifier = gts_milk_colony_1
		days = -1
	}
	add_modifier = {
		modifier = gts_milk_colony_2
		days = -1
	}
	add_modifier = {
		modifier = gts_milk_colony_3
		days = -1
	}
	add_modifier = {
		modifier = lush_planet
		days = -1
	}

	hidden_effect = {
		export_trigger_value_to_variable = {
			trigger = planet_size
			variable = gts_bruh_get_planet_size
		}
		set_variable_to_random_value = {
			which = gts_bruh_random_count
			min = 9
			max = gts_bruh_get_planet_size
		}
		while = {
			count = gts_bruh_random_count
			random_list = {
				1 = {
					add_deposit = d_milk_ruin1
				}
				1 = {
					add_deposit = d_milk_ruin2
				}
				1 = {
					add_deposit = d_milk_ruin3
				}
			}
		}
		add_deposit = d_gts_milk_sea
		remove_building = building_colony_shelter
		remove_building = building_deployment_post

		remove_building = building_capital
		remove_building = building_hive_capital
		remove_building = building_machine_capital
		remove_building = building_resort_capital
		remove_building = building_slave_capital
		remove_building = building_ancient_control_center
		remove_building = building_ancient_palace
		remove_building = building_capital_wilderness

		remove_building = building_major_capital
		remove_building = building_hive_major_capital
		remove_building = building_machine_major_capital
		remove_building = building_resort_major_capital
		remove_building = building_slave_major_capital
		remove_building = building_major_capital_wilderness

		remove_building = building_system_capital
		remove_building = building_machine_system_capital
		remove_building = building_system_capital_wilderness
		add_building = building_gts_bruh_milk_colony_shelter
	}
}

# 精液星球改造
pc_gts_semen_change = {
	set_planet_flag = gts_reformed_planet
	change_pc = pc_gts_semen
	set_colony_type = col_gts_semen
	validate_planet_buildings_and_districts = yes
	add_modifier = {
		modifier = gts_semen_colony_1
		days = -1
	}
	add_modifier = {
		modifier = gts_semen_colony_2
		days = -1
	}
	add_modifier = {
		modifier = gts_semen_colony_3
		days = -1
	}
	add_modifier = {
		modifier = atmospheric_aphrodisiac
		days = -1
	}
	hidden_effect = {
		remove_building = building_colony_shelter
		remove_building = building_deployment_post

		remove_building = building_capital
		remove_building = building_hive_capital
		remove_building = building_machine_capital
		remove_building = building_resort_capital
		remove_building = building_slave_capital
		remove_building = building_ancient_control_center
		remove_building = building_ancient_palace
		remove_building = building_capital_wilderness

		remove_building = building_major_capital
		remove_building = building_hive_major_capital
		remove_building = building_machine_major_capital
		remove_building = building_resort_major_capital
		remove_building = building_slave_major_capital
		remove_building = building_major_capital_wilderness

		remove_building = building_system_capital
		remove_building = building_machine_system_capital
		remove_building = building_system_capital_wilderness
		add_building = building_gts_bruh_semen_colony_shelter
	}
}

# 排泄星球改造
pc_gts_shit_change = {
	set_planet_flag = gts_reformed_planet
	change_pc = pc_gts_shit
	set_colony_type = col_gts_shit
	validate_planet_buildings_and_districts = yes

	add_modifier = {
		modifier = gts_shit_colony_1
		days = -1
	}
	add_modifier = {
		modifier = gts_shit_colony_2
		days = -1
	}
	add_modifier = {
		modifier = gts_shit_colony_3
		days = -1
	}
	add_modifier = {
		modifier = ammonia_biosphere
		days = -1
	}

	hidden_effect = {
		export_trigger_value_to_variable = {
			trigger = planet_size
			variable = gts_bruh_get_planet_size
		}
		set_variable_to_random_value = {
			which = gts_bruh_random_count
			min = 9
			max = gts_bruh_get_planet_size
		}
		while = {
			count = gts_bruh_random_count
			random_list = {
				1 = {
					add_deposit = d_shit_ruin2
				}
				1 = {
					add_deposit = d_shit_ruin3
				}
				1 = {
					add_deposit = d_shit_ruin4
				}
				1 = {
					add_deposit = d_shit_ruin5
				}
				1 = {
					add_deposit = d_shit_ruin6
				}
				1 = {
					add_deposit = d_shit_ruin7
				}
			}
		}
		add_deposit = d_shit_ruin1
		remove_building = building_colony_shelter
		remove_building = building_deployment_post

		remove_building = building_capital
		remove_building = building_hive_capital
		remove_building = building_machine_capital
		remove_building = building_resort_capital
		remove_building = building_slave_capital
		remove_building = building_ancient_control_center
		remove_building = building_ancient_palace
		remove_building = building_capital_wilderness

		remove_building = building_major_capital
		remove_building = building_hive_major_capital
		remove_building = building_machine_major_capital
		remove_building = building_resort_major_capital
		remove_building = building_slave_major_capital
		remove_building = building_major_capital_wilderness

		remove_building = building_system_capital
		remove_building = building_machine_system_capital
		remove_building = building_system_capital_wilderness
		add_building = building_gts_bruh_shit_colony_shelter
	}
}

# 足垢星球改造(初级)
pc_gts_dirt_change = {
	set_planet_flag = gts_reformed_planet
	change_pc = pc_gts_dirt0
	set_colony_type = col_gts_dirt
	validate_planet_buildings_and_districts = yes

	hidden_effect = {
		if = {
			limit = {
				owner = {
					has_technology = tech_gts_bfbf_habitability_dirt
				}
			}
			export_trigger_value_to_variable = {
				trigger = planet_size
				variable = gts_bruh_get_planet_size
			}
			set_variable_to_random_value = {
				which = gts_bruh_random_count
				min = 9
				max = gts_bruh_get_planet_size
			}
			while = {
				count = gts_bruh_random_count
				random_list = {
					1 = {
						add_deposit = d_dirt_clean1
					}
					1 = {
						add_deposit = d_dirt_clean2
					}
					1 = {
						add_deposit = d_dirt_clean3
					}
				}
			}
		}
		else = {
			export_trigger_value_to_variable = {
				trigger = planet_size
				variable = gts_bruh_get_planet_size
			}
			set_variable_to_random_value = {
				which = gts_bruh_random_count
				min = 9
				max = gts_bruh_get_planet_size
			}
			while = {
				count = gts_bruh_random_count
				random_list = {
					1 = {
						add_deposit = d_dirt_ruin1
					}
					1 = {
						add_deposit = d_dirt_ruin3
					}
					1 = {
						add_deposit = d_dirt_ruin4
					}
					1 = {
						add_deposit = d_dirt_ruin5
					}
				}
			}
		}
		add_deposit = d_dirt_ruin2
		remove_building = building_colony_shelter
		remove_building = building_deployment_post

		remove_building = building_capital
		remove_building = building_hive_capital
		remove_building = building_machine_capital
		remove_building = building_resort_capital
		remove_building = building_slave_capital
		remove_building = building_ancient_control_center
		remove_building = building_ancient_palace
		remove_building = building_capital_wilderness

		remove_building = building_major_capital
		remove_building = building_hive_major_capital
		remove_building = building_machine_major_capital
		remove_building = building_resort_major_capital
		remove_building = building_slave_major_capital
		remove_building = building_major_capital_wilderness

		remove_building = building_system_capital
		remove_building = building_machine_system_capital
		remove_building = building_system_capital_wilderness
		add_building = building_gts_bruh_dirt_colony_shelter
	}
}