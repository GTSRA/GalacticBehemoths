luanzi_origin_effect = {
	add_modifier = {
		modifier = luanzi_home_planet_modifiers
	}	#添加卵子母星buff
	remove_deposit = d_decrepit_dwellings	#移除地块：贫民区
	add_deposit = d_gts_egg_dig_a
	add_deposit = d_damaged_farming_ruins	#添加地块：废墟
	add_deposit = d_damaged_farming_ruins
	add_deposit = d_damaged_farming_ruins
	add_deposit = d_damaged_mining_ruins
	add_deposit = d_damaged_mining_ruins
	add_deposit = d_damaged_mining_ruins
	add_deposit = d_damaged_generator_ruins
	add_deposit = d_damaged_generator_ruins
	add_deposit = d_damaged_generator_ruins
}

Aya_origin_effect = {
	add_modifier = {
		modifier = aya_end_of_golden_age
		days = 7200
	}	#添加母星buff:后黄金时代的混乱
	add_modifier = {
		modifier = aya_protect_us
	}	#添加母星buff:彩彩会保护大家的
	add_deposit = d_Aya_palace	#添加地块:领袖行宫 
	add_deposit = d_Aya_footprint	#添加地块:脚印
	add_deposit = d_Aya_flat
}

parasitic_robot_origin_effect = {
	add_modifier = {
		modifier = center_of_gts
	}
	add_deposit = d_Chenghui_mouth
	add_deposit = d_Chenghui_sweat
	add_deposit = d_Chenghui_sweat
	add_deposit = d_Chenghui_chest
	add_deposit = d_Chenghui_chest
	add_deposit = d_Chenghui_home
	add_deposit = d_Chenghui_button
}

create_chenghui_governor = {
	if = {
		limit = {
			has_country_flag = chenghui_warship_active
		}
		remove_country_flag = chenghui_warship_active
		event_target:chenghui_warship = {
			delete_fleet = this
		}
	}
	if = {
		limit = {
			has_country_flag = chenghui_army_active
		}
		remove_country_flag = chenghui_army_active
		every_owned_army = {
			limit = {
				army_type = chenghui_army
			}
			remove_army = yes
		}
	}
	set_country_flag = chenghui_governor_active
	create_leader = {
		class = official
		species = event_target:Chenghui
		name = NAME_Chenghui
		event_leader = yes
		skill = 10
		gender = female
		set_age = 17
		traits = {
			trait = leader_trait_governor_chenghui
		}
	}
	last_created_leader = {
		save_global_event_target_as = chenghui_governor
		set_leader_flag = gts_chenghui
		set_leader_flag = has_gained_level_trait
		gts_ui_leader_init = yes
		change_leader_portrait = gts_Chenghui_governer
	}
}

create_chenghui_warship = {
	if = {
		limit = {
			has_country_flag = chenghui_governor_active
		}
		remove_country_flag = chenghui_governor_active
		event_target:chenghui_governor = {
			kill_leader = {
				show_notification = no
			}
		}
	}
	if = {
		limit = {
			has_country_flag = chenghui_army_active
		}
		remove_country_flag = chenghui_army_active
		every_owned_army = {
			limit = {
				army_type = chenghui_army
			}
			remove_army = yes
		}
	}
	else = {
		capital_scope = {
			save_event_target_as = chenghui_warship_location
		}
	}
	set_country_flag = chenghui_warship_active
	create_fleet = {
		name = "NAME_Chenghui"
		settings = {
			can_upgrade = no
			can_change_composition = no
			can_change_leader = no
			uses_naval_capacity = no
			spawn_debris = no
		}
		effect = {
			set_owner = root
			create_ship = {
				name = "NAME_Chenghui"
				design = "NAME_Chenghui_Warship"
				prefix = no
				upgradable = no
			}
			save_global_event_target_as = chenghui_warship
			set_location = event_target:chenghui_warship_location
			add_modifier = {
				modifier = "gray_warship"				##########################
				days = -1
			}
		}
	}
	if = {
		#改动过 上边的括号原本在下面
		limit = {
			has_country_flag = chenghui_army_active
		}
		remove_country_flag = chenghui_army_active
		every_owned_army = {
			limit = {
				army_type = chenghui_army
			}
			remove_army = yes
		}
	}
}

create_chenghui_army = {
	if = {
		limit = {
			has_country_flag = chenghui_governor_active
		}
		remove_country_flag = chenghui_governor_active
		event_target:chenghui_governor = {
			kill_leader = {
				show_notification = no
			}
		}
	}
	if = {
		limit = {
			has_country_flag = chenghui_warship_active
		}
		remove_country_flag = chenghui_warship_active
		event_target:chenghui_warship = {
			delete_fleet = this
		}
	}
	else = {
		capital_scope = {
			save_event_target_as = chenghui_transport_location
		}
	}
	set_country_flag = chenghui_army_active
	create_fleet = {
		name = "NAME_Chenghui"
		effect = {
			set_owner = root
			create_army_transport = {
				ship_name = "NAME_Chenghui"
				#graphical_culture = "root"
				army_name = "NAME_Chenghui"
				army_type = "chenghui_army"
			}
			set_location = {
				target = event_target:chenghui_transport_location
				distance = 0
				angle = random
			}
		}
	}
	if = {
		limit = {
			has_country_flag = chenghui_warship_active
		}
		remove_country_flag = chenghui_warship_active
		event_target:chenghui_warship = {
			delete_fleet = this
		}
	}
}

origin_robot_gts_Leftfoot_effect = {
	#左足
	change_pc = pc_gaia
}

origin_robot_gts_Rightfoot_effect = {
	#右足
	change_pc = pc_gaia
}

origin_robot_gts_Stomach_effect = {
	#胃
	change_pc = pc_gaia
}

origin_robot_gts_Anal_effect = {
	#菊
	change_pc = pc_gaia
}

origin_robot_gts_Puss_effect = {
	#阴
	change_pc = pc_gaia
}

annihilator_origin_effect = {
	add_modifier = { modifier = belly_of_gts } 
	add_modifier = { modifier = back_of_gts }
	add_deposit = d_giantess_belly_plain_dirty 
	add_deposit = d_giantess_belly_plain_sweaty
	add_deposit = d_giantess_belly_plain_dirty
	add_deposit = d_giantess_belly_plain
	add_deposit = d_giantess_back_plain_sweaty
	add_deposit = d_giantess_back_plain_sweaty
	add_deposit = d_giantess_back_plain_dirty
	add_deposit = d_giantess_back_plain
	add_deposit = d_giantess_strange_noise
	add_deposit = d_giantess_warm_ground
}

generate_home_planet_final_pass = {
	optimize_memory
	# Adjust life-seeded colonies
	if = {##### 修改原代码
		limit = {
			owner = {
				has_origin = origin_Hexie
			}
		}
		owner = {
			capital_scope = {
				add_modifier = {
					modifier = gts_hexie
					days = 7200
				}
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_origin = origin_life_seeded
			}
		}
		owner = {
			# Nuke other colonies gained from advanced empire, etc
			every_owned_planet = {
				limit = {
					is_capital = no
				}
				remove_all_buildings = yes
				destroy_colony = yes
			}
			if = {
				limit = {
					NOT = {
						has_valid_civic = civic_permanent_employment
					}
				}
				change_dominant_species = {
					species = last_created_species
					change_all = yes
				}
			}
		}
	}
	if = {
		limit = {
			owner = {
				OR = {
					has_origin = origin_shattered_ring
					has_origin = origin_machine
				}
			}
		}
		owner = {
			capital_scope = {
				system_star = {
					set_deposit = d_energy_10
				}
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_origin = origin_tree_of_life
			}
		}
		owner = {
			capital_scope = {
				add_deposit = d_tree_of_life_home
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_origin = origin_lithoid
			}
		}
		owner = {
			capital_scope = {
				add_deposit = d_lithoid_crater
				add_deposit = d_buried_lithoids
				add_deposit = d_buried_lithoids
				add_deposit = d_buried_lithoids
				add_deposit = d_buried_lithoids
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_origin = origin_lost_colony
				is_gestalt = no
			}
		}
		owner = {
			capital_scope = {
				add_modifier = {
					modifier = colonial_spirit_mod
				}
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				has_origin = origin_lost_colony
				is_gestalt = yes
			}
		}
		owner = {
			capital_scope = {
				add_modifier = {
					modifier = colonial_spirit_gestalt_mod
				}
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_origin = origin_broken_shackles
			}
		}
		owner = {
			capital_scope = {
				add_modifier = {
					modifier = free_at_last_broken_shackles
					days = 7200
				}
				add_modifier = {
					modifier = culture_shock_broken_shackles
					days = 3600
				}
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_origin = origin_progenitor_hive
			}
		}
		owner = {
			capital_scope = {
				add_deposit = d_progenitor
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_origin = origin_default
			}
		}
		owner = {
			if = {
				limit = {
					is_gestalt = no
				}
				capital_scope = {
					add_modifier = {
						modifier = prosp_uni_mod
						days = 7200
					}
				}
			}
			else = {
				capital_scope = {
					add_modifier = {
						modifier = prosp_uni_mod_gestalt
						days = 7200
					}
				}
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_origin = origin_machine
			}
		}
		owner = {
			capital_scope = {
				add_deposit = d_machine_minerals
				solar_system = {
					every_system_planet = {
						limit = {
							colonizable_planet = no
							is_star = no
						}
						clear_deposits = yes
					}
					every_system_planet = {
						limit = {
							is_asteroid = yes
						}
						remove_planet = yes
					}
					every_system_planet = {
						limit = {
							colonizable_planet = no
							is_star = no
							is_asteroid = no
							NOT = {
								is_planet_class = pc_gas_giant
							}
						}
						change_pc = pc_broken
					}
					every_system_planet = {
						limit = {
							colonizable_planet = no
							is_star = no
							is_planet_class = pc_gas_giant
						}
						change_pc = pc_molten
						add_modifier = {
							modifier = chthonian_planet
						}
						every_moon = {
							limit = {
								colonizable_planet = no
							}
							remove_planet = yes
						}
						while = {
							limit = {
								planet_size >= 20
							}
							change_planet_size = -6
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			owner = {
				any_owned_pop_group = {
					has_trait = trait_exotic_metabolism
				}
			}
		}
		add_deposit = d_exotic_mountain
	}
}
